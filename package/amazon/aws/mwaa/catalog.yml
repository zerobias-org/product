Product:
  name: Amazon Managed Workflows for Apache Airflow
  versions: [2020.7.1]
  package: amazon.aws.mwaa
  description: |-
    Amazon Managed Workflows for Apache Airflow
  link: https://docs.aws.amazon.com/mwaa/latest/userguide/what-is-mwaa.html
  contentType: json
Operations:
  CreateCliToken:
    description: |-
      Create a CLI token to use Airflow CLI.
    versions:
      from: 2020.7.1
    link: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/mwaa/create-cli-token.html
    example:
      inputs: [
        {
          "Name": "string"
        }
      ]
      outputs: [
        {
          "CliToken": "string",
          "WebServerHostname": "string"
        }
      ]
  CreateEnvironment:
    description: |-
      JSON blob that describes the environment to create.
    versions:
      from: 2020.7.1
    link: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/mwaa/create-environment.html
    example:
      inputs: [
        {
          "Name": "string",
          "Tags": {
            "string": "string"
          },
          "KmsKey": "string",
          "DagS3Path": "string",
          "MaxWorkers": 1,
          "MinWorkers": 1,
          "PluginsS3Path": "string",
          "AirflowVersion": "string",
          "SourceBucketArn": "string",
          "EnvironmentClass": "string",
          "ExecutionRoleArn": "string",
          "RequirementsS3Path": "string",
          "WebserverAccessMode": "string",
          "LoggingConfiguration": {
            "TaskLogs": {
              "Enabled": false,
              "LogLevel": "string"
            },
            "WorkerLogs": {
              "Enabled": false,
              "LogLevel": "string"
            },
            "SchedulerLogs": {
              "Enabled": false,
              "LogLevel": "string"
            },
            "WebserverLogs": {
              "Enabled": false,
              "LogLevel": "string"
            },
            "DagProcessingLogs": {
              "Enabled": false,
              "LogLevel": "string"
            }
          },
          "NetworkConfiguration": {
            "SubnetIds": [
              "string"
            ],
            "SecurityGroupIds": [
              "string"
            ]
          },
          "PluginsS3ObjectVersion": "string",
          "AirflowConfigurationOptions": {
            "string": "string"
          },
          "RequirementsS3ObjectVersion": "string",
          "WeeklyMaintenanceWindowStart": "string"
        }
      ]
      outputs: [
        {
          "Arn": "string"
        }
      ]
  CreateWebLoginToken:
    description: |-
      Create a JWT token to be used to login to Airflow Web UI with claims based Authentication.
    versions:
      from: 2020.7.1
    link: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/mwaa/create-web-login-token.html
    example:
      inputs: [
        {
          "Name": "string"
        }
      ]
      outputs: [
        {
          "WebToken": "string",
          "WebServerHostname": "string"
        }
      ]
  DeleteEnvironment:
    description: |-
      Delete an existing environment.
    versions:
      from: 2020.7.1
    link: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/mwaa/delete-environment.html
    example:
      inputs: [
        {
          "Name": "string"
        }
      ]
      outputs: [
        {}
      ]
  GetEnvironment:
    description: |-
      Get details of an existing environment.
    versions:
      from: 2020.7.1
    link: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/mwaa/get-environment.html
    example:
      inputs: [
        {
          "Name": "string"
        }
      ]
      outputs: [
        {
          "Environment": {
            "Arn": "string",
            "Name": "string",
            "Tags": {
              "string": "string"
            },
            "KmsKey": "string",
            "Status": "string",
            "CreatedAt": 1481289211.615,
            "DagS3Path": "string",
            "LastUpdate": {
              "Error": {
                "ErrorCode": "string",
                "ErrorMessage": "string"
              },
              "Status": "string",
              "CreatedAt": 1481289211.615
            },
            "MaxWorkers": 1,
            "MinWorkers": 1,
            "WebserverUrl": "string",
            "PluginsS3Path": "string",
            "AirflowVersion": "string",
            "ServiceRoleArn": "string",
            "SourceBucketArn": "string",
            "EnvironmentClass": "string",
            "ExecutionRoleArn": "string",
            "RequirementsS3Path": "string",
            "WebserverAccessMode": "string",
            "LoggingConfiguration": {
              "TaskLogs": {
                "Enabled": false,
                "LogLevel": "string",
                "CloudWatchLogGroupArn": "string"
              },
              "WorkerLogs": {
                "Enabled": false,
                "LogLevel": "string",
                "CloudWatchLogGroupArn": "string"
              },
              "SchedulerLogs": {
                "Enabled": false,
                "LogLevel": "string",
                "CloudWatchLogGroupArn": "string"
              },
              "WebserverLogs": {
                "Enabled": false,
                "LogLevel": "string",
                "CloudWatchLogGroupArn": "string"
              },
              "DagProcessingLogs": {
                "Enabled": false,
                "LogLevel": "string",
                "CloudWatchLogGroupArn": "string"
              }
            },
            "NetworkConfiguration": {
              "SubnetIds": [
                "string"
              ],
              "SecurityGroupIds": [
                "string"
              ]
            },
            "PluginsS3ObjectVersion": "string",
            "AirflowConfigurationOptions": {
              "string": "string"
            },
            "RequirementsS3ObjectVersion": "string",
            "WeeklyMaintenanceWindowStart": "string"
          }
        }
      ]
  ListEnvironments:
    description: |-
      List Amazon MWAA Environments.
    versions:
      from: 2020.7.1
    link: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/mwaa/list-environments.html
    example:
      inputs: [
        {
          "NextToken": "string",
          "MaxResults": 1
        }
      ]
      outputs: [
        {
          "NextToken": "string",
          "Environments": [
            "string"
          ]
        }
      ]
  ListTagsForResource:
    description: |-
      List the tags for MWAA environments.
    versions:
      from: 2020.7.1
    link: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/mwaa/list-tags-for-resource.html
    example:
      inputs: [
        {
          "ResourceArn": "string"
        }
      ]
      outputs: [
        {
          "Tags": {
            "string": "string"
          }
        }
      ]
  PublishMetrics:
    description: |-
      An operation for publishing metrics from the customers to the Ops plane.
    versions:
      from: 2020.7.1
    link: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/mwaa/publish-metrics.html
    example:
      inputs: [
        {
          "MetricData": [
            {
              "Unit": "string",
              "Value": 0.1,
              "Timestamp": 1481289211.615,
              "Dimensions": [
                {
                  "Name": "string",
                  "Value": "string"
                }
              ],
              "MetricName": "string",
              "StatisticValues": {
                "Sum": 0.1,
                "Maximum": 0.1,
                "Minimum": 0.1,
                "SampleCount": 1
              }
            }
          ],
          "EnvironmentName": "string"
        }
      ]
      outputs: [
        {}
      ]
  TagResource:
    description: |-
      Add tag to the MWAA environments.
    versions:
      from: 2020.7.1
    link: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/mwaa/tag-resource.html
    example:
      inputs: [
        {
          "Tags": {
            "string": "string"
          },
          "ResourceArn": "string"
        }
      ]
      outputs: [
        {}
      ]
  UntagResource:
    description: |-
      Remove a tag from the MWAA environments.
    versions:
      from: 2020.7.1
    link: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/mwaa/untag-resource.html
    example:
      inputs: [
        {
          "tagKeys": [
            "string"
          ],
          "ResourceArn": "string"
        }
      ]
      outputs: [
        {}
      ]
  UpdateEnvironment:
    description: |-
      Update an MWAA environment.
    versions:
      from: 2020.7.1
    link: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/mwaa/update-environment.html
    example:
      inputs: [
        {
          "Name": "string",
          "DagS3Path": "string",
          "MaxWorkers": 1,
          "MinWorkers": 1,
          "PluginsS3Path": "string",
          "AirflowVersion": "string",
          "SourceBucketArn": "string",
          "EnvironmentClass": "string",
          "ExecutionRoleArn": "string",
          "RequirementsS3Path": "string",
          "WebserverAccessMode": "string",
          "LoggingConfiguration": {
            "TaskLogs": {
              "Enabled": false,
              "LogLevel": "string"
            },
            "WorkerLogs": {
              "Enabled": false,
              "LogLevel": "string"
            },
            "SchedulerLogs": {
              "Enabled": false,
              "LogLevel": "string"
            },
            "WebserverLogs": {
              "Enabled": false,
              "LogLevel": "string"
            },
            "DagProcessingLogs": {
              "Enabled": false,
              "LogLevel": "string"
            }
          },
          "NetworkConfiguration": {
            "SecurityGroupIds": [
              "string"
            ]
          },
          "PluginsS3ObjectVersion": "string",
          "AirflowConfigurationOptions": {
            "string": "string"
          },
          "RequirementsS3ObjectVersion": "string",
          "WeeklyMaintenanceWindowStart": "string"
        }
      ]
      outputs: [
        {
          "Arn": "string"
        }
      ]