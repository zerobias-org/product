Product:
  name: Amazon Elastic Container Registry Public
  versions: [2020.10.30]
  package: amazon.aws.ecrpublic
  description: |-
    Amazon Elastic Container Registry Public
  link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/Welcome.html
  contentType: json
Operations:
  BatchCheckLayerAvailability:
    description: |-
      Checks the availability of one or more image layers that are within a repository in a public registry. When an image is pushed to a repository, each image layer is checked to verify if it has been uploaded before. If it has been uploaded, then the image layer is skipped.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_BatchCheckLayerAvailability.html
    example:
      inputs: [
        {
          "registryId": "string",
          "layerDigests": [
            "string"
          ],
          "repositoryName": "string"
        }
      ]
      outputs: [
        {
          "layers": [
            {
              "layerSize": 1,
              "mediaType": "string",
              "layerDigest": "string",
              "layerAvailability": "string"
            }
          ],
          "failures": [
            {
              "failureCode": "string",
              "layerDigest": "string",
              "failureReason": "string"
            }
          ]
        }
      ]
  BatchDeleteImage:
    description: |-
      Deletes a list of specified images that are within a repository in a public registry. Images are specified with either an imageTag or imageDigest.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_BatchDeleteImage.html
    example:
      inputs: [
        {
          "imageIds": [
            {
              "imageTag": "string",
              "imageDigest": "string"
            }
          ],
          "registryId": "string",
          "repositoryName": "string"
        }
      ]
      outputs: [
        {
          "failures": [
            {
              "imageId": {
                "imageTag": "string",
                "imageDigest": "string"
              },
              "failureCode": "string",
              "failureReason": "string"
            }
          ],
          "imageIds": [
            {
              "imageTag": "string",
              "imageDigest": "string"
            }
          ]
        }
      ]
  CompleteLayerUpload:
    description: |-
      Informs Amazon ECR that the image layer upload is complete for a specified public registry, repository name, and upload ID. You can optionally provide a sha256 digest of the image layer for data validation purposes.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_CompleteLayerUpload.html
    example:
      inputs: [
        {
          "uploadId": "string",
          "registryId": "string",
          "layerDigests": [
            "string"
          ],
          "repositoryName": "string"
        }
      ]
      outputs: [
        {
          "uploadId": "string",
          "registryId": "string",
          "layerDigest": "string",
          "repositoryName": "string"
        }
      ]
  CreateRepository:
    description: |-
      Creates a repository in a public registry. For more information, see Amazon ECR repositories in the Amazon Elastic Container Registry User Guide.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_CreateRepository.html
    example:
      inputs: [
        {
          "tags": [
            {
              "Key": "string",
              "Value": "string"
            }
          ],
          "catalogData": {
            "aboutText": "string",
            "usageText": "string",
            "description": "string",
            "architectures": [
              "string"
            ],
            "logoImageBlob": "blob",
            "operatingSystems": [
              "string"
            ]
          },
          "repositoryName": "string"
        }
      ]
      outputs: [
        {
          "repository": {
            "createdAt": 1481289211.615,
            "registryId": "string",
            "repositoryArn": "string",
            "repositoryUri": "string",
            "repositoryName": "string"
          },
          "catalogData": {
            "logoUrl": "string",
            "aboutText": "string",
            "usageText": "string",
            "description": "string",
            "architectures": [
              "string"
            ],
            "operatingSystems": [
              "string"
            ],
            "marketplaceCertified": false
          }
        }
      ]
  DeleteRepository:
    description: |-
      Deletes a repository in a public registry. If the repository contains images, you must either manually delete all images in the repository or use the force option. This option deletes all images on your behalf before deleting the repository.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_DeleteRepository.html
    example:
      inputs: [
        {
          "force": false,
          "registryId": "string",
          "repositoryName": "string"
        }
      ]
      outputs: [
        {
          "repository": {
            "createdAt": 1481289211.615,
            "registryId": "string",
            "repositoryArn": "string",
            "repositoryUri": "string",
            "repositoryName": "string"
          }
        }
      ]
  DeleteRepositoryPolicy:
    description: |-
      Deletes the repository policy that's associated with the specified repository.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_DeleteRepositoryPolicy.html
    example:
      inputs: [
        {
          "registryId": "string",
          "repositoryName": "string"
        }
      ]
      outputs: [
        {
          "policyText": "string",
          "registryId": "string",
          "repositoryName": "string"
        }
      ]
  DescribeImages:
    description: |-
      Returns metadata that's related to the images in a repository in a public registry.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_DescribeImages.html
    example:
      inputs: [
        {
          "imageIds": [
            {
              "imageTag": "string",
              "imageDigest": "string"
            }
          ],
          "nextToken": "string",
          "maxResults": 1,
          "registryId": "string",
          "repositoryName": "string"
        }
      ]
      outputs: [
        {
          "nextToken": "string",
          "imageDetails": [
            {
              "imageTags": [
                "string"
              ],
              "registryId": "string",
              "imageDigest": "string",
              "imagePushedAt": 1481289211.615,
              "repositoryName": "string",
              "imageSizeInBytes": 1,
              "artifactMediaType": "string",
              "imageManifestMediaType": "string"
            }
          ]
        }
      ]
  DescribeImageTags:
    description: |-
      Returns the image tag details for a repository in a public registry.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_DescribeImageTags.html
    example:
      inputs: [
        {
          "nextToken": "string",
          "maxResults": 1,
          "registryId": "string",
          "repositoryName": "string"
        }
      ]
      outputs: [
        {
          "nextToken": "string",
          "imageTagDetails": [
            {
              "imageTag": "string",
              "createdAt": 1481289211.615,
              "imageDetail": {
                "imageDigest": "string",
                "imagePushedAt": 1481289211.615,
                "imageSizeInBytes": 1,
                "artifactMediaType": "string",
                "imageManifestMediaType": "string"
              }
            }
          ]
        }
      ]
  DescribeRegistries:
    description: |-
      Returns details for a public registry.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_DescribeRegistries.html
    example:
      inputs: [
        {
          "nextToken": "string",
          "maxResults": 1
        }
      ]
      outputs: [
        {
          "nextToken": "string",
          "registries": [
            {
              "aliases": [
                {
                  "name": "string",
                  "status": "string",
                  "defaultRegistryAlias": false,
                  "primaryRegistryAlias": false
                }
              ],
              "verified": false,
              "registryId": "string",
              "registryArn": "string",
              "registryUri": "string"
            }
          ]
        }
      ]
  DescribeRepositories:
    description: |-
      Describes repositories that are in a public registry.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_DescribeRepositories.html
    example:
      inputs: [
        {
          "nextToken": "string",
          "maxResults": 1,
          "registryId": "string",
          "repositoryNames": [
            "string"
          ]
        }
      ]
      outputs: [
        {
          "nextToken": "string",
          "repositories": [
            {
              "createdAt": 1481289211.615,
              "registryId": "string",
              "repositoryArn": "string",
              "repositoryUri": "string",
              "repositoryName": "string"
            }
          ]
        }
      ]
  GetAuthorizationToken:
    description: |-
      Retrieves an authorization token. An authorization token represents your IAM authentication credentials. You can use it to access any Amazon ECR registry that your IAM principal has access to. The authorization token is valid for 12 hours. This API requires the ecr-public:GetAuthorizationToken and sts:GetServiceBearerToken permissions.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_GetAuthorizationToken.html
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "authorizationData": {
            "expiresAt": 1481289211.615,
            "authorizationToken": "string"
          }
        }
      ]
  GetRegistryCatalogData:
    description: |-
      Retrieves catalog metadata for a public registry.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_GetRegistryCatalogData.html
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "registryCatalogData": {
            "displayName": "string"
          }
        }
      ]
  GetRepositoryCatalogData:
    description: |-
      Retrieve catalog metadata for a repository in a public registry. This metadata is displayed publicly in the Amazon ECR Public Gallery.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_GetRepositoryCatalogData.html
    example:
      inputs: [
        {
          "registryId": "string",
          "repositoryName": "string"
        }
      ]
      outputs: [
        {
          "catalogData": {
            "logoUrl": "string",
            "aboutText": "string",
            "usageText": "string",
            "description": "string",
            "architectures": [
              "string"
            ],
            "operatingSystems": [
              "string"
            ],
            "marketplaceCertified": false
          }
        }
      ]
  GetRepositoryPolicy:
    description: |-
      Retrieves the repository policy for the specified repository.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_GetRepositoryPolicy.html
    example:
      inputs: [
        {
          "registryId": "string",
          "repositoryName": "string"
        }
      ]
      outputs: [
        {
          "policyText": "string",
          "registryId": "string",
          "repositoryName": "string"
        }
      ]
  InitiateLayerUpload:
    description: |-
      Notifies Amazon ECR that you intend to upload an image layer.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_InitiateLayerUpload.html
    example:
      inputs: [
        {
          "registryId": "string",
          "repositoryName": "string"
        }
      ]
      outputs: [
        {
          "partSize": 1,
          "uploadId": "string"
        }
      ]
  ListTagsForResource:
    description: |-
      List the tags for an Amazon ECR Public resource.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_ListTagsForResource.html
    example:
      inputs: [
        {
          "resourceArn": "string"
        }
      ]
      outputs: [
        {
          "tags": [
            {
              "Key": "string",
              "Value": "string"
            }
          ]
        }
      ]
  PutImage:
    description: |-
      Creates or updates the image manifest and tags that are associated with an image.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_PutImage.html
    example:
      inputs: [
        {
          "imageTag": "string",
          "registryId": "string",
          "imageDigest": "string",
          "imageManifest": "string",
          "repositoryName": "string",
          "imageManifestMediaType": "string"
        }
      ]
      outputs: [
        {
          "image": {
            "imageId": {
              "imageTag": "string",
              "imageDigest": "string"
            },
            "registryId": "string",
            "imageManifest": "string",
            "repositoryName": "string",
            "imageManifestMediaType": "string"
          }
        }
      ]
  PutRegistryCatalogData:
    description: |-
      Create or update the catalog data for a public registry.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_PutRegistryCatalogData.html
    example:
      inputs: [
        {
          "displayName": "string"
        }
      ]
      outputs: [
        {
          "registryCatalogData": {
            "displayName": "string"
          }
        }
      ]
  PutRepositoryCatalogData:
    description: |-
      Creates or updates the catalog data for a repository in a public registry.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_PutRepositoryCatalogData.html
    example:
      inputs: [
        {
          "registryId": "string",
          "catalogData": {
            "aboutText": "string",
            "usageText": "string",
            "description": "string",
            "architectures": [
              "string"
            ],
            "logoImageBlob": "blob",
            "operatingSystems": [
              "string"
            ]
          },
          "repositoryName": "string"
        }
      ]
      outputs: [
        {
          "catalogData": {
            "logoUrl": "string",
            "aboutText": "string",
            "usageText": "string",
            "description": "string",
            "architectures": [
              "string"
            ],
            "operatingSystems": [
              "string"
            ],
            "marketplaceCertified": false
          }
        }
      ]
  SetRepositoryPolicy:
    description: |-
      Applies a repository policy to the specified public repository to control access permissions. For more information, see Amazon ECR Repository Policies in the Amazon Elastic Container Registry User Guide.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_SetRepositoryPolicy.html
    example:
      inputs: [
        {
          "force": false,
          "policyText": "string",
          "registryId": "string",
          "repositoryName": "string"
        }
      ]
      outputs: [
        {
          "policyText": "string",
          "registryId": "string",
          "repositoryName": "string"
        }
      ]
  TagResource:
    description: |-
      Associates the specified tags to a resource with the specified resourceArn. If existing tags on a resource aren't specified in the request parameters, they aren't changed. When a resource is deleted, the tags associated with that resource are also deleted.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_TagResource.html
    example:
      inputs: [
        {
          "tags": [
            {
              "Key": "string",
              "Value": "string"
            }
          ],
          "resourceArn": "string"
        }
      ]
      outputs: [
        {}
      ]
  UntagResource:
    description: |-
      Deletes specified tags from a resource.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_UntagResource.html
    example:
      inputs: [
        {
          "tagKeys": [
            "string"
          ],
          "resourceArn": "string"
        }
      ]
      outputs: [
        {}
      ]
  UploadLayerPart:
    description: |-
      Uploads an image layer part to Amazon ECR.
    versions:
      from: 2020.10.30
    link: https://docs.aws.amazon.com/AmazonECRPublic/latest/APIReference/API_UploadLayerPart.html
    example:
      inputs: [
        {
          "uploadId": "string",
          "registryId": "string",
          "partLastByte": 1,
          "layerPartBlob": "blob",
          "partFirstByte": 1,
          "repositoryName": "string"
        }
      ]
      outputs: [
        {
          "uploadId": "string",
          "registryId": "string",
          "repositoryName": "string",
          "lastByteReceived": 1
        }
      ]