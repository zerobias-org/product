Product:
  name: AWS Marketplace Metering Service
  versions: [2016.1.14]
  package: amazon.aws.marketplacemeteringservice
  description: |-
    AWS Marketplace Metering Service
  link: https://docs.aws.amazon.com/marketplacemetering/latest/APIReference/Welcome.html
  contentType: json
Operations:
  BatchMeterUsage:
    description: |-
      BatchMeterUsage is called from a SaaS application listed on the AWS Marketplace to post metering records for a set of customers.
    versions:
      from: 2016.1.14
    link: https://docs.aws.amazon.com/marketplacemetering/latest/APIReference/API_BatchMeterUsage.html
    example:
      inputs: [
        {
          "ProductCode": "string",
          "UsageRecords": [
            {
              "Quantity": 1,
              "Dimension": "string",
              "Timestamp": 1481289211.615,
              "UsageAllocations": [
                {
                  "Tags": [
                    {
                      "Key": "string",
                      "Value": "string"
                    }
                  ],
                  "AllocatedUsageQuantity": 1
                }
              ],
              "CustomerIdentifier": "string"
            }
          ]
        }
      ]
      outputs: [
        {
          "Results": [
            {
              "Status": "string",
              "UsageRecord": {
                "Quantity": 1,
                "Dimension": "string",
                "Timestamp": 1481289211.615,
                "UsageAllocations": [
                  {
                    "Tags": [
                      {
                        "Key": "string",
                        "Value": "string"
                      }
                    ],
                    "AllocatedUsageQuantity": 1
                  }
                ],
                "CustomerIdentifier": "string"
              },
              "MeteringRecordId": "string"
            }
          ],
          "UnprocessedRecords": [
            {
              "Quantity": 1,
              "Dimension": "string",
              "Timestamp": 1481289211.615,
              "UsageAllocations": [
                {
                  "Tags": [
                    {
                      "Key": "string",
                      "Value": "string"
                    }
                  ],
                  "AllocatedUsageQuantity": 1
                }
              ],
              "CustomerIdentifier": "string"
            }
          ]
        }
      ]
  MeterUsage:
    description: |-
      API to emit metering records. For identical requests, the API is idempotent. It simply returns the metering record ID.
    versions:
      from: 2016.1.14
    link: https://docs.aws.amazon.com/marketplacemetering/latest/APIReference/API_MeterUsage.html
    example:
      inputs: [
        {
          "DryRun": false,
          "Timestamp": 1481289211.615,
          "ProductCode": "string",
          "UsageQuantity": 1,
          "UsageDimension": "string",
          "UsageAllocations": [
            {
              "Tags": [
                {
                  "Key": "string",
                  "Value": "string"
                }
              ],
              "AllocatedUsageQuantity": 1
            }
          ]
        }
      ]
      outputs: [
        {
          "MeteringRecordId": "string"
        }
      ]
  RegisterUsage:
    description: |-
      Paid container software products sold through AWS Marketplace must integrate with the AWS Marketplace Metering Service and call the RegisterUsage operation for software entitlement and metering. Free and BYOL products for Amazon ECS or Amazon EKS aren't required to call RegisterUsage, but you may choose to do so if you would like to receive usage data in your seller reports. The sections below explain the behavior of RegisterUsage. RegisterUsage performs two primary functions:metering and entitlement.
    versions:
      from: 2016.1.14
    link: https://docs.aws.amazon.com/marketplacemetering/latest/APIReference/API_RegisterUsage.html
    example:
      inputs: [
        {
          "Nonce": "string",
          "ProductCode": "string",
          "PublicKeyVersion": 1
        }
      ]
      outputs: [
        {
          "Signature": "string",
          "PublicKeyRotationTimestamp": 1481289211.615
        }
      ]
  ResolveCustomer:
    description: |-
      ResolveCustomer is called by a SaaS application during the registration process. When a buyer visits your website during the registration process, the buyer submits a registration token through their browser. The registration token is resolved through this API to obtain a CustomerIdentifier and product code.
    versions:
      from: 2016.1.14
    link: https://docs.aws.amazon.com/marketplacemetering/latest/APIReference/API_ResolveCustomer.html
    example:
      inputs: [
        {
          "RegistrationToken": "string"
        }
      ]
      outputs: [
        {
          "ProductCode": "string",
          "CustomerIdentifier": "string"
        }
      ]