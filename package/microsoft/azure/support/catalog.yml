Product:
  name: Azure Support
  versions: [2020.4.1]
  package: microsoft.azure.support
  description: |-
    Support
  link: https://docs.microsoft.com/en-us/rest/api/support/
  contentType: json
Operations:
  Communications.CheckNameAvailability:
    description: |-
      Check the availability of a resource name. This API should be used to check the uniqueness of the name for adding a new communication to the support ticket.
    versions:
      from: 2020.4.1
    link: https://docs.microsoft.com/en-us/rest/api/support/communications/checknameavailability
    example:
      inputs: [
        {
          "name": "sampleName",
          "type": "Microsoft.Support/communications"
        }
      ]
      outputs: [
        {
          "reason": "Name is already in use",
          "message": "Name not available",
          "nameAvailable": false
        }
      ]
  Communications.Create:
    description: |-
      Adds a new customer communication to an Azure support ticket.
    versions:
      from: 2020.4.1
    link: https://docs.microsoft.com/en-us/rest/api/support/communications/create
    example:
      inputs: [
        {
          "properties": {
            "body": "This is a test message from a customer!",
            "sender": "user@contoso.com",
            "subject": "This is a test message from a customer!"
          }
        }
      ]
      outputs: [
        {
          "id": "/subscriptions/subid/providers/Microsoft.Support/supportTickets/testticket/communications/testcommunication",
          "name": "testcommunication",
          "type": "Microsoft.Support/communications",
          "properties": {
            "body": "This is a test message from a customer!",
            "sender": "user@contoso.com",
            "subject": "This is a test message from a customer!",
            "createdDate": "2020-03-10T20:18:19Z",
            "communicationType": "web",
            "communicationDirection": "outbound"
          }
        }
      ]
  Communications.Get:
    description: |-
      Returns communication details for a support ticket.
    versions:
      from: 2020.4.1
    link: https://docs.microsoft.com/en-us/rest/api/support/communications/get
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/subscriptions/subid/providers/Microsoft.Support/supportTickets/testticket/communications/testmessage",
          "name": "testmessage",
          "type": "Microsoft.Support/communications",
          "properties": {
            "body": "this is a test message",
            "sender": "user@contoso.com",
            "subject": "this is a test message",
            "createdDate": "2020-03-10T20:18:19Z",
            "communicationType": "web",
            "communicationDirection": "outbound"
          }
        }
      ]
  Communications.List:
    description: |-
      Lists all communications (attachments not included) for a support ticket.  You can also filter support ticket communications by CreatedDate or CommunicationType using the $filter parameter. The only type of communication supported today is Web. Output will be a paged result with nextLink, using which you can retrieve the next set of Communication results. Support ticket data is available for 18 months after ticket creation. If a ticket was created more than 18 months ago, a request for data might cause an error.
    versions:
      from: 2020.4.1
    link: https://docs.microsoft.com/en-us/rest/api/support/communications/list
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "/subscriptions/subid/providers/Microsoft.Support/supportTickets/testticket/communications/testmessage1",
              "name": "testmessage1",
              "type": "Microsoft.Support/communications",
              "properties": {
                "body": "this is a test message",
                "sender": "user@contoso.com",
                "subject": "this is a test message",
                "createdDate": "2020-03-24T20:18:19Z",
                "communicationType": "web",
                "communicationDirection": "outbound"
              }
            },
            {
              "id": "/subscriptions/subid/providers/Microsoft.Support/supportTickets/testticket/communications/testmessage2",
              "name": "testmessage2",
              "type": "Microsoft.Support/communications",
              "properties": {
                "body": "test",
                "sender": "user@contoso.com",
                "subject": "test",
                "createdDate": "2020-03-29T10:53:19Z",
                "communicationType": "web",
                "communicationDirection": "outbound"
              }
            }
          ]
        }
      ]
  ProblemClassifications.Get:
    description: |-
      Get problem classification details for a specific Azure service.
    versions:
      from: 2020.4.1
    link: https://docs.microsoft.com/en-us/rest/api/support/problemclassifications/get
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/providers/Microsoft.Support/services/service_guid/problemClassifications/problemClassification_guid",
          "name": "problemClassification_guid",
          "type": "Microsoft.Support/problemClassifications",
          "properties": {
            "displayName": "ReservationÂ Management / Exchanges and Refunds"
          }
        }
      ]
  ProblemClassifications.List:
    description: |-
      Lists all the problem classifications (categories) available for a specific Azure service. Always use the service and problem classifications obtained programmatically. This practice ensures that you always have the most recent set of service and problem classification Ids.
    versions:
      from: 2020.4.1
    link: https://docs.microsoft.com/en-us/rest/api/support/problemclassifications/list
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "/providers/Microsoft.Support/services/service_guid/problemClassifications/problemClassification_guid_1",
              "name": "problemClassification_guid_1",
              "type": "Microsoft.Support/problemClassifications",
              "properties": {
                "displayName": "Reservation Management / Exchanges and Refunds"
              }
            },
            {
              "id": "/providers/Microsoft.Support/services/service_guid/problemClassifications/problemClassification_guid_2",
              "name": "problemClassification_guid_2",
              "type": "Microsoft.Support/problemClassifications",
              "properties": {
                "displayName": "Reservation Management / Request Invoices"
              }
            },
            {
              "id": "/providers/Microsoft.Support/services/service_guid/problemClassifications/problemClassification_guid_3",
              "name": "problemClassification_guid_3",
              "type": "Microsoft.Support/problemClassifications",
              "properties": {
                "displayName": "Reservation Management / Other Iissues or Requests"
              }
            },
            {
              "id": "/providers/Microsoft.Support/services/service_guid/problemClassifications/problemClassification_guid_4",
              "name": "problemClassification_guid_4",
              "type": "Microsoft.Support/problemClassifications",
              "properties": {
                "displayName": "Other General Billing Questions"
              }
            }
          ]
        }
      ]
  Services.Get:
    description: |-
      Gets a specific Azure service for support ticket creation.
    versions:
      from: 2020.4.1
    link: https://docs.microsoft.com/en-us/rest/api/support/services/get
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/providers/Microsoft.Support/services/service_guid",
          "name": "service_guid",
          "type": "Microsoft.Support/services",
          "properties": {
            "displayName": "Virtual Machine running Windows",
            "resourceTypes": [
              "MICROSOFT.CLASSICCOMPUTE/VIRTUALMACHINES",
              "MICROSOFT.COMPUTE/VIRTUALMACHINES"
            ]
          }
        }
      ]
  Services.List:
    description: |-
      Lists all the Azure services available for support ticket creation. For Technical issues, select the Service Id that maps to the Azure service/product as displayed in the Services drop-down list on the Azure portal's New support request page. Always use the service and its corresponding problem classification(s) obtained programmatically for support ticket creation. This practice ensures that you always have the most recent set of service and problem classification Ids.
    versions:
      from: 2020.4.1
    link: https://docs.microsoft.com/en-us/rest/api/support/services/list
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "/providers/Microsoft.Support/services/service_guid_1",
              "name": "service_guid_1",
              "type": "Microsoft.Support/services",
              "properties": {
                "displayName": "Billing",
                "resourceTypes": []
              }
            },
            {
              "id": "/providers/Microsoft.Support/services/service_guid_2",
              "name": "service_guid_2",
              "type": "Microsoft.Support/services",
              "properties": {
                "displayName": "Service and subscription limits (quotas)",
                "resourceTypes": []
              }
            },
            {
              "id": "/providers/Microsoft.Support/services/service_guid_3",
              "name": "service_guid_3",
              "type": "Microsoft.Support/services",
              "properties": {
                "displayName": "Subscription management",
                "resourceTypes": []
              }
            },
            {
              "id": "/providers/Microsoft.Support/services/service_guid_4",
              "name": "service_guid_4",
              "type": "Microsoft.Support/services",
              "properties": {
                "displayName": "Data Explorer",
                "resourceTypes": [
                  "MICROSOFT.KUSTO/CLUSTERS",
                  "MICROSOFT.KUSTO/DATABASES"
                ]
              }
            },
            {
              "id": "/providers/Microsoft.Support/services/service_guid_5",
              "name": "service_guid_5",
              "type": "Microsoft.Support/services",
              "properties": {
                "displayName": "Virtual Machine running Windows",
                "resourceTypes": [
                  "MICROSOFT.CLASSICCOMPUTE/VIRTUALMACHINES",
                  "MICROSOFT.COMPUTE/VIRTUALMACHINES"
                ]
              }
            },
            {
              "id": "/providers/Microsoft.Support/services/service_guid_6",
              "name": "service_guid_6",
              "type": "Microsoft.Support/services",
              "properties": {
                "displayName": "Virtual Machine running Linux",
                "resourceTypes": [
                  "MICROSOFT.CLASSICCOMPUTE/VIRTUALMACHINES",
                  "MICROSOFT.COMPUTE/VIRTUALMACHINES"
                ]
              }
            },
            {
              "id": "/providers/Microsoft.Support/services/service_guid_7",
              "name": "service_guid_7",
              "type": "Microsoft.Support/services",
              "properties": {
                "displayName": "Virtual Network",
                "resourceTypes": [
                  "MICROSOFT.NETWORK/VIRTUALNETWORKS",
                  "MICROSOFT.CLASSICNETWORK/VIRTUALNETWORKS"
                ]
              }
            }
          ]
        }
      ]
  SupportTickets.CheckNameAvailability:
    description: |-
      Check the availability of a resource name. This API should be used to check the uniqueness of the name for support ticket creation for the selected subscription.
    versions:
      from: 2020.4.1
    link: https://docs.microsoft.com/en-us/rest/api/support/supporttickets/checknameavailability
    example:
      inputs: [
        {
          "name": "sampleName",
          "type": "Microsoft.Support/supportTickets"
        }
      ]
      outputs: [
        {
          "reason": "Name is already in use",
          "message": "Name not available",
          "nameAvailable": false
        }
      ]
  SupportTickets.Create:
    description: |-
      Creates a new support ticket for Subscription and Service limits (Quota), Technical, Billing, and Subscription Management issues for the specified subscription. Learn the prerequisites required to create a support ticket.Always call the Services and ProblemClassifications API to get the most recent set of services and problem categories required for support ticket creation.Adding attachments is not currently supported via the API. To add a file to an existing support ticket, visit the Manage support ticket page in the Azure portal, select the support ticket, and use the file upload control to add a new file.Providing consent to share diagnostic information with Azure support is currently not supported via the API. The Azure support engineer working on your ticket will reach out to you for consent if your issue requires gathering diagnostic information from your Azure resources.Creating a support ticket for on-behalf-of: Include x-ms-authorization-auxiliary header to provide an auxiliary token as per documentation. The primary token will be from the tenant for whom a support ticket is being raised against the subscription, i.e. Cloud solution provider (CSP) customer tenant. The auxiliary token will be from the Cloud solution provider (CSP) partner tenant.
    versions:
      from: 2020.4.1
    link: https://docs.microsoft.com/en-us/rest/api/support/supporttickets/create
    example:
      inputs: [
        {
          "properties": {
            "title": "my title",
            "severity": "moderate",
            "serviceId": "/providers/Microsoft.Support/services/billing_service_guid",
            "description": "my description",
            "contactDetails": {
              "country": "usa",
              "lastName": "xyz",
              "firstName": "abc",
              "preferredTimeZone": "Pacific Standard Time",
              "primaryEmailAddress": "abc@contoso.com",
              "preferredContactMethod": "email",
              "preferredSupportLanguage": "en-US"
            },
            "problemClassificationId": "/providers/Microsoft.Support/services/billing_service_guid/problemClassifications/billing_problemClassification_guid"
          }
        }
      ]
      outputs: [
        {
          "id": "/subscriptions/subid/providers/Microsoft.Support/supportTickets/testticket",
          "name": "testticket",
          "type": "Microsoft.Support/supportTickets",
          "properties": {
            "title": "my title",
            "status": "Open",
            "severity": "moderate",
            "serviceId": "/providers/Microsoft.Support/services/billing_service_guid",
            "createdDate": "2020-03-20T21:36:18Z",
            "description": "my description",
            "modifiedDate": "2020-03-20T21:36:23Z",
            "contactDetails": {
              "country": "usa",
              "lastName": "xyz",
              "firstName": "abc",
              "preferredTimeZone": "Pacific Standard Time",
              "primaryEmailAddress": "abc@contoso.com",
              "preferredContactMethod": "email",
              "preferredSupportLanguage": "en-US"
            },
            "supportEngineer": {
              "emailAddress": null
            },
            "supportPlanType": "Premier",
            "supportTicketId": "119120321001170",
            "serviceDisplayName": "Billing",
            "require24X7Response": false,
            "serviceLevelAgreement": {
              "startTime": "2020-03-20T21:36:18Z",
              "slaMinutes": 240,
              "expirationTime": "2020-03-21T17:36:18Z"
            },
            "problemClassificationId": "/providers/Microsoft.Support/services/billing_service_guid/problemClassifications/billing_problemClassification_guid",
            "problemClassificationDisplayName": "Refund request"
          }
        }
      ]
  SupportTickets.Get:
    description: |-
      Get ticket details for an Azure subscription. Support ticket data is available for 18 months after ticket creation. If a ticket was created more than 18 months ago, a request for data might cause an error.
    versions:
      from: 2020.4.1
    link: https://docs.microsoft.com/en-us/rest/api/support/supporttickets/get
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/subscriptions/subid/providers/Microsoft.Support/supportTickets/testticket",
          "name": "testticket",
          "type": "Microsoft.Support/supportTickets",
          "properties": {
            "title": "Test - please ignore",
            "status": "Open",
            "severity": "minimal",
            "serviceId": "/providers/Microsoft.Support/services/subscription_management_service_guid",
            "createdDate": "2020-03-20T21:36:18Z",
            "description": "This is a test - please ignore",
            "modifiedDate": "2020-03-20T21:36:23Z",
            "contactDetails": {
              "country": "USA",
              "lastName": "xyz",
              "firstName": "abc",
              "preferredTimeZone": "Pacific Standard Time",
              "primaryEmailAddress": "abc@contoso.com",
              "preferredContactMethod": "email",
              "preferredSupportLanguage": "en-US"
            },
            "supportEngineer": {
              "emailAddress": "xyz@contoso.com"
            },
            "supportPlanType": "Premier",
            "supportTicketId": "118032014183770",
            "serviceDisplayName": "Subscription management",
            "require24X7Response": false,
            "serviceLevelAgreement": {
              "startTime": "2020-03-20T21:36:18Z",
              "slaMinutes": 240,
              "expirationTime": "2020-03-21T17:36:18Z"
            },
            "problemClassificationId": "/providers/Microsoft.Support/services/subscription_management_service_guid/problemClassifications/problemClassification_guid",
            "problemClassificationDisplayName": "Add or Edit VAT, TAX ID, or PO Number"
          }
        }
      ]
  SupportTickets.List:
    description: |-
      Lists all the support tickets for an Azure subscription. You can also filter the support tickets by Status or CreatedDate using the $filter parameter. Output will be a paged result with nextLink, using which you can retrieve the next set of support tickets. Support ticket data is available for 18 months after ticket creation. If a ticket was created more than 18 months ago, a request for data might cause an error.
    versions:
      from: 2020.4.1
    link: https://docs.microsoft.com/en-us/rest/api/support/supporttickets/list
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "/subscriptions/subid/providers/Microsoft.Support/supportTickets/testticket",
              "name": "testticket",
              "type": "Microsoft.Support/supportTickets",
              "properties": {
                "title": "my title",
                "status": "Open",
                "severity": "moderate",
                "serviceId": "/providers/Microsoft.Support/services/virtual_machine_service_guid",
                "createdDate": "2020-03-11T21:36:18Z",
                "description": "my description",
                "modifiedDate": "2020-03-12T21:36:23Z",
                "contactDetails": {
                  "country": "usa",
                  "lastName": "xyz",
                  "firstName": "abc",
                  "preferredTimeZone": "Pacific Standard Time",
                  "primaryEmailAddress": "abc@contoso.com",
                  "preferredContactMethod": "email",
                  "preferredSupportLanguage": "en-US"
                },
                "supportEngineer": {
                  "emailAddress": "xyz@contoso.com"
                },
                "supportPlanType": "Premier",
                "supportTicketId": "119120321001170",
                "serviceDisplayName": "Virtual Machine running Linux",
                "require24X7Response": false,
                "serviceLevelAgreement": {
                  "startTime": "2020-03-11T21:36:18Z",
                  "slaMinutes": 240,
                  "expirationTime": "2020-03-12T17:36:18Z"
                },
                "technicalTicketDetails": {
                  "resourceId": "/subscriptions/subid/resourceGroups/test/providers/Microsoft.Compute/virtualMachines/testserver"
                },
                "problemClassificationId": "/providers/Microsoft.Support/services/virtual_machine_service_guid/problemClassifications/problemClassification_guid",
                "problemClassificationDisplayName": "Connectivity / Cannot connect to virtual machine by using RDP or SSH"
              }
            },
            {
              "id": "/subscriptions/subid/providers/Microsoft.Support/supportTickets/testticket2",
              "name": "testticket2",
              "type": "Microsoft.Support/supportTickets",
              "properties": {
                "title": "Test - please ignore",
                "status": "Open",
                "severity": "minimal",
                "serviceId": "/providers/Microsoft.Support/services/subscription_management_service_guid",
                "createdDate": "2020-03-11T21:36:18Z",
                "description": "This is a test - please ignore",
                "modifiedDate": "2020-03-12T21:36:18Z",
                "contactDetails": {
                  "country": "USA",
                  "lastName": "xyz",
                  "firstName": "abc",
                  "preferredTimeZone": "Pacific Standard Time",
                  "primaryEmailAddress": "abc@contoso.com",
                  "preferredContactMethod": "email",
                  "preferredSupportLanguage": "en-US"
                },
                "supportEngineer": {
                  "emailAddress": "xyz@contoso.com"
                },
                "supportPlanType": "Premier",
                "supportTicketId": "118032014183771",
                "serviceDisplayName": "Subscription management",
                "require24X7Response": false,
                "serviceLevelAgreement": {
                  "startTime": "2020-03-11T21:36:18Z",
                  "slaMinutes": 240,
                  "expirationTime": "2020-03-12T17:36:18Z"
                },
                "problemClassificationId": "/providers/Microsoft.Support/services/subscription_management_service_guid/problemClassifications/problemClassification_guid",
                "problemClassificationDisplayName": "Add or Edit VAT, TAX ID, or PO Number"
              }
            }
          ]
        }
      ]
  SupportTickets.Update:
    description: |-
      This API allows you to update the severity level, ticket status, and your contact information in the support ticket.Note: The severity levels cannot be changed if a support ticket is actively being worked upon by an Azure support engineer. In such a case, contact your support engineer to request severity update by adding a new communication using the Communications API.Changing the ticket status to closed is allowed only on an unassigned case. When an engineer is actively working on the ticket, send your ticket closure request by sending a note to your engineer.
    versions:
      from: 2020.4.1
    link: https://docs.microsoft.com/en-us/rest/api/support/supporttickets/update
    example:
      inputs: [
        {
          "contactDetails": {
            "country": "USA",
            "lastName": "last name",
            "firstName": "first name",
            "phoneNumber": "123-456-7890",
            "preferredTimeZone": "Pacific Standard Time",
            "primaryEmailAddress": "test.name@contoso.com",
            "preferredContactMethod": "email",
            "additionalEmailAddresses": [
              "tname@contoso.com",
              "teamtest@contoso.com"
            ],
            "preferredSupportLanguage": "en-US"
          }
        }
      ]
      outputs: [
        {
          "id": "/subscriptions/subid/providers/Microsoft.Support/supportTickets/testticket",
          "name": "testticket",
          "type": "Microsoft.Support/supportTickets",
          "properties": {
            "title": "Test - please ignore",
            "status": "Open",
            "severity": "critical",
            "serviceId": "/providers/Microsoft.Support/services/subscription_management_service_guid",
            "createdDate": "2020-03-20T21:36:18Z",
            "description": "This is a test - please ignore",
            "modifiedDate": "2020-03-20T21:36:23Z",
            "contactDetails": {
              "country": "USA",
              "lastName": "last name",
              "firstName": "first name",
              "phoneNumber": "123-456-7890",
              "preferredTimeZone": "Pacific Standard Time",
              "primaryEmailAddress": "test.name@contoso.com",
              "preferredContactMethod": "email",
              "additionalEmailAddresses": [
                "tname@contoso.com",
                "teamtest@contoso.com"
              ],
              "preferredSupportLanguage": "en-US"
            },
            "supportEngineer": {
              "emailAddress": "xyz@contoso.com"
            },
            "supportPlanType": "Premier",
            "supportTicketId": "118032014183770",
            "serviceDisplayName": "Subscription management",
            "require24X7Response": false,
            "serviceLevelAgreement": {
              "startTime": "2020-03-20T21:36:18Z",
              "slaMinutes": 240,
              "expirationTime": "2020-03-21T17:36:18Z"
            },
            "problemClassificationId": "/providers/Microsoft.Support/services/subscription_management_service_guid/problemClassifications/problemClassification_guid",
            "problemClassificationDisplayName": "Add or Edit VAT, TAX ID, or PO Number"
          }
        }
      ]