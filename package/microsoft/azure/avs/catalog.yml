Product:
  name: Azure VMware Solution Documentation
  versions: [2020.3.20]
  package: microsoft.azure.avs
  description: |-
    Avs
  link: https://docs.microsoft.com/en-us/azure/azure-vmware/
  contentType: json
Operations:
  Authorizations.CreateOrUpdate:
    description: |-
      Create or update an ExpressRoute Circuit Authorization in a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/authorizations/createorupdate
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/subscriptions/{subscription-id}/resourceGroups/group1/providers/Microsoft.AVS/privateClouds/cloud1/authorizations/authorization1",
          "name": "authorization1",
          "type": "Microsoft.AVS/privateClouds/authorizations",
          "properties": {
            "provisioningState": "Succeeded",
            "expressRouteAuthorizationId": "/subscriptions/5206f269-120b-41ef-a95b-0dce7109de61/resourceGroups/tnt34-cust-mockp02-spearj2dev/providers/Microsoft.Network/expressroutecircuits/tnt34-cust-mockp02-spearj2dev-er/authorizations/myauth",
            "expressRouteAuthorizationKey": "37b0db3b-3b17-4c7b-bf76-bf13b01bcadc"
          }
        }
      ]
  Authorizations.Delete:
    description: |-
      Delete an ExpressRoute Circuit Authorization in a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/authorizations/delete
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  Authorizations.Get:
    description: |-
      Get an ExpressRoute Circuit Authorization by name in a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/authorizations/get
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/subscriptions/{subscription-id}/resourceGroups/group1/providers/Microsoft.AVS/privateClouds/cloud1/authorizations/authorization1",
          "name": "authorization1",
          "type": "Microsoft.AVS/privateClouds/authorizations",
          "properties": {
            "provisioningState": "Succeeded",
            "expressRouteAuthorizationId": "/subscriptions/5206f269-120b-41ef-a95b-0dce7109de61/resourceGroups/tnt34-cust-mockp02-spearj2dev/providers/Microsoft.Network/expressroutecircuits/tnt34-cust-mockp02-spearj2dev-er/authorizations/myauth",
            "expressRouteAuthorizationKey": "37b0db3b-3b17-4c7b-bf76-bf13b01bcadc"
          }
        }
      ]
  Authorizations.List:
    description: |-
      List ExpressRoute Circuit Authorizations in a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/authorizations/list
    example:
      inputs: [
        {}
      ]
      outputs: [
        [
          {
            "id": "/subscriptions/{subscription-id}/resourceGroups/group1/providers/Microsoft.AVS/privateClouds/cloud1/authorizations/authorization1",
            "name": "authorization1",
            "type": "Microsoft.AVS/privateClouds/authorizations",
            "properties": {
              "provisioningState": "Succeeded",
              "expressRouteAuthorizationId": "/subscriptions/5206f269-120b-41ef-a95b-0dce7109de61/resourceGroups/tnt34-cust-mockp02-spearj2dev/providers/Microsoft.Network/expressroutecircuits/tnt34-cust-mockp02-spearj2dev-er/authorizations/myauth",
              "expressRouteAuthorizationKey": "37b0db3b-3b17-4c7b-bf76-bf13b01bcadc"
            }
          }
        ]
      ]
  Clusters.CreateOrUpdate:
    description: |-
      Create or update a cluster in a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/clusters/createorupdate
    example:
      inputs: [
        {
          "sku": {
            "name": "AV20"
          },
          "properties": {
            "clusterSize": 3
          }
        }
      ]
      outputs: [
        {
          "id": "/subscriptions/{subscription-id}/resourceGroups/group1/providers/Microsoft.AVS/privateClouds/cloud1/clusters/cluster1",
          "sku": {
            "name": "AV20"
          },
          "name": "cluster1",
          "type": "Microsoft.AVS/privateClouds/clusters",
          "properties": {
            "hosts": [
              "fakehost22.nyc1.kubernetes.center",
              "fakehost23.nyc1.kubernetes.center",
              "fakehost24.nyc1.kubernetes.center"
            ],
            "clusterSize": 3,
            "provisioningState": "Succeeded"
          }
        }
      ]
  Clusters.Delete:
    description: |-
      Delete a cluster in a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/clusters/delete
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  Clusters.Get:
    description: |-
      Get a cluster by name in a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/clusters/get
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/subscriptions/{subscription-id}/resourceGroups/group1/providers/Microsoft.AVS/privateClouds/cloud1/clusters/cluster1",
          "sku": {
            "name": "AV20"
          },
          "name": "cluster1",
          "type": "Microsoft.AVS/privateClouds/clusters",
          "properties": {
            "hosts": [
              "fakehost22.nyc1.kubernetes.center",
              "fakehost23.nyc1.kubernetes.center",
              "fakehost24.nyc1.kubernetes.center",
              "fakehost25.nyc1.kubernetes.center"
            ],
            "clusterSize": 4,
            "provisioningState": "Succeeded"
          }
        }
      ]
  Clusters.List:
    description: |-
      List clusters in a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/clusters/list
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "/subscriptions/{subscription-id}/resourceGroups/group1/providers/Microsoft.AVS/privateClouds/cloud1/clusters/cluster1",
              "sku": {
                "name": "AV20"
              },
              "name": "cluster1",
              "type": "Microsoft.AVS/privateClouds/clusters",
              "properties": {
                "hosts": [
                  "fakehost22.nyc1.kubernetes.center",
                  "fakehost23.nyc1.kubernetes.center",
                  "fakehost24.nyc1.kubernetes.center"
                ],
                "clusterSize": 3,
                "provisioningState": "Succeeded"
              }
            }
          ]
        }
      ]
  Clusters.Update:
    description: |-
      Update a cluster in a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/clusters/update
    example:
      inputs: [
        {
          "properties": {
            "clusterSize": 4
          }
        }
      ]
      outputs: [
        {
          "id": "/subscriptions/{subscription-id}/resourceGroups/group1/providers/Microsoft.AVS/privateClouds/cloud1/clusters/cluster1",
          "sku": {
            "name": "AV20"
          },
          "name": "cluster1",
          "type": "Microsoft.AVS/privateClouds/clusters",
          "properties": {
            "hosts": [
              "fakehost22.nyc1.kubernetes.center",
              "fakehost23.nyc1.kubernetes.center",
              "fakehost24.nyc1.kubernetes.center",
              "fakehost25.nyc1.kubernetes.center"
            ],
            "clusterSize": 4,
            "provisioningState": "Succeeded"
          }
        }
      ]
  HcxEnterpriseSites.CreateOrUpdate:
    description: |-
      Create or update an HCX Enterprise Site in a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/hcxenterprisesites/createorupdate
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/subscriptions/{subscription-id}/resourceGroups/group1/providers/Microsoft.AVS/privateClouds/cloud1/hcxEnterpriseSites/site1",
          "name": "site1",
          "type": "Microsoft.AVS/privateClouds/hcxEnterpriseSites",
          "properties": {
            "status": "Available",
            "activationKey": "0276EF1A9A1749A5A362BF73EA9F8D0D"
          }
        }
      ]
  HcxEnterpriseSites.Delete:
    description: |-
      Delete an HCX Enterprise Site in a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/hcxenterprisesites/delete
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  HcxEnterpriseSites.Get:
    description: |-
      Get an HCX Enterprise Site by name in a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/hcxenterprisesites/get
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/subscriptions/{subscription-id}/resourceGroups/group1/providers/Microsoft.AVS/privateClouds/cloud1/hcxEnterpriseSites/site1",
          "name": "site1",
          "type": "Microsoft.AVS/privateClouds/hcxEnterpriseSites",
          "properties": {
            "status": "Available",
            "activationKey": "0276EF1A9A1749A5A362BF73EA9F8D0D"
          }
        }
      ]
  HcxEnterpriseSites.List:
    description: |-
      List HCX Enterprise Sites in a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/hcxenterprisesites/list
    example:
      inputs: [
        {}
      ]
      outputs: [
        [
          {
            "id": "/subscriptions/{subscription-id}/resourceGroups/group1/providers/Microsoft.AVS/privateClouds/cloud1/hcxEnterpriseSites/site1",
            "name": "site1",
            "type": "Microsoft.AVS/privateClouds/hcxEnterpriseSites",
            "properties": {
              "status": "Available",
              "activationKey": "0276EF1A9A1749A5A362BF73EA9F8D0D"
            }
          }
        ]
      ]
  Locations.CheckQuotaAvailability:
    description: |-
      Return quota for subscription by region
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/locations/checkquotaavailability
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "quotaEnabled": "Enabled",
          "hostsRemaining": {
            "AV20": 0,
            "AV36": 999
          }
        }
      ]
  Locations.CheckTrialAvailability:
    description: |-
      Return trial status for subscription by region
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/locations/checktrialavailability
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "status": "TrialAvailable",
          "availableHosts": 4
        }
      ]
  PrivateClouds.CreateOrUpdate:
    description: |-
      Create or update a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/privateclouds/createorupdate
    example:
      inputs: [
        {
          "sku": {
            "name": "AV36"
          },
          "tags": {},
          "location": "eastus2",
          "properties": {
            "networkBlock": "192.168.48.0/22",
            "managementCluster": {
              "clusterSize": 4
            }
          }
        }
      ]
      outputs: [
        {
          "id": "/subscriptions/{subscription-id}/resourceGroups/group1/providers/Microsoft.AVS/privateClouds/cloud1",
          "sku": {
            "name": "AV36"
          },
          "name": "cloud1",
          "tags": {},
          "type": "Microsoft.AVS/privateClouds",
          "location": "eastus2",
          "properties": {
            "circuit": {
              "primarySubnet": "192.168.53.0/30",
              "expressRouteID": "/subscriptions/{subscription-id}/resourceGroups/tnt13-41a90db2-9d5e-4bd5-a77a-5ce7b58213d6-eastus2/providers/Microsoft.Network/expressroutecircuits/tnt13-41a90db2-9d5e-4bd5-a77a-5ce7b58213d6-eastus2-xconnect",
              "secondarySubnet": "192.168.53.4/30"
            },
            "internet": "Disabled",
            "endpoints": {
              "vcsa": "https://192.168.50.2/",
              "nsxtManager": "https://192.168.50.3/"
            },
            "networkBlock": "192.168.48.0/22",
            "identitySources": [
              {
                "ssl": "Enabled",
                "name": "group1",
                "alias": "groupAlias",
                "domain": "domain1",
                "baseUserDN": "ou=baseUser",
                "baseGroupDN": "ou=baseGroup",
                "primaryServer": "ldaps://1.1.1.1:636/",
                "secondaryServer": "ldaps://1.1.1.2:636/"
              }
            ],
            "managementCluster": {
              "hosts": [
                "fakehost18.nyc1.kubernetes.center",
                "fakehost19.nyc1.kubernetes.center",
                "fakehost20.nyc1.kubernetes.center",
                "fakehost21.nyc1.kubernetes.center"
              ],
              "clusterId": 1,
              "clusterSize": 4
            },
            "provisioningState": "Succeeded"
          }
        }
      ]
  PrivateClouds.Delete:
    description: |-
      Delete a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/privateclouds/delete
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  PrivateClouds.Get:
    description: |-
      Get a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/privateclouds/get
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/subscriptions/{subscription-id}/resourceGroups/group1/providers/Microsoft.AVS/privateClouds/cloud1",
          "sku": {
            "name": "AV36"
          },
          "name": "cloud1",
          "tags": {},
          "type": "Microsoft.AVS/privateClouds",
          "location": "eastus2",
          "properties": {
            "circuit": {
              "primarySubnet": "192.168.53.0/30",
              "expressRouteID": "/subscriptions/{subscription-id}/resourceGroups/tnt13-41a90db2-9d5e-4bd5-a77a-5ce7b58213d6-eastus2/providers/Microsoft.Network/expressroutecircuits/tnt13-41a90db2-9d5e-4bd5-a77a-5ce7b58213d6-eastus2-xconnect",
              "secondarySubnet": "192.168.53.4/30",
              "expressRoutePrivatePeeringID": "/subscriptions/{subscription-id}/resourceGroups/tnt42-cust-p01-dmo01/providers/Microsoft.Network/expressroutecircuits/tnt42-cust-p01-dmo01-er/peerings/AzurePrivatePeering"
            },
            "internet": "Disabled",
            "endpoints": {
              "vcsa": "https://192.168.50.2/",
              "nsxtManager": "https://192.168.50.3/",
              "hcxCloudManager": "https://192.168.50.4/"
            },
            "networkBlock": "192.168.48.0/22",
            "identitySources": [
              {
                "ssl": "Enabled",
                "name": "group1",
                "alias": "groupAlias",
                "domain": "domain1",
                "baseUserDN": "ou=baseUser",
                "baseGroupDN": "ou=baseGroup",
                "primaryServer": "ldaps://1.1.1.1:636/",
                "secondaryServer": "ldaps://1.1.1.2:636/"
              }
            ],
            "managementCluster": {
              "hosts": [
                "fakehost18.nyc1.kubernetes.center",
                "fakehost19.nyc1.kubernetes.center",
                "fakehost20.nyc1.kubernetes.center",
                "fakehost21.nyc1.kubernetes.center"
              ],
              "clusterId": 1,
              "clusterSize": 4
            },
            "provisioningState": "Succeeded"
          }
        }
      ]
  PrivateClouds.List:
    description: |-
      List private clouds in a resource group
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/privateclouds/list
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "/subscriptions/{subscription-id}/resourceGroups/group1/providers/Microsoft.AVS/privateClouds/cloud1",
              "sku": {
                "name": "AV36"
              },
              "name": "cloud1",
              "tags": {},
              "type": "Microsoft.AVS/privateClouds",
              "location": "eastus2",
              "properties": {
                "circuit": {
                  "primarySubnet": "192.168.53.0/30",
                  "expressRouteID": "/subscriptions/{subscription-id}/resourceGroups/tnt13-41a90db2-9d5e-4bd5-a77a-5ce7b58213d6-eastus2/providers/Microsoft.Network/expressroutecircuits/tnt13-41a90db2-9d5e-4bd5-a77a-5ce7b58213d6-eastus2-xconnect",
                  "secondarySubnet": "192.168.53.4/30",
                  "expressRoutePrivatePeeringID": "/subscriptions/{subscription-id}/resourceGroups/tnt42-cust-p01-dmo01/providers/Microsoft.Network/expressroutecircuits/tnt42-cust-p01-dmo01-er/peerings/AzurePrivatePeering"
                },
                "internet": "Disabled",
                "endpoints": {
                  "vcsa": "https://192.168.50.2/",
                  "nsxtManager": "https://192.168.50.3/",
                  "hcxCloudManager": "https://192.168.50.4/"
                },
                "networkBlock": "192.168.48.0/22",
                "identitySources": [
                  {
                    "ssl": "Enabled",
                    "name": "group1",
                    "alias": "groupAlias",
                    "domain": "domain1",
                    "baseUserDN": "ou=baseUser",
                    "baseGroupDN": "ou=baseGroup",
                    "primaryServer": "ldaps://1.1.1.1:636/",
                    "secondaryServer": "ldaps://1.1.1.2:636/"
                  }
                ],
                "managementCluster": {
                  "hosts": [
                    "fakehost18.nyc1.kubernetes.center",
                    "fakehost19.nyc1.kubernetes.center",
                    "fakehost20.nyc1.kubernetes.center",
                    "fakehost21.nyc1.kubernetes.center"
                  ],
                  "clusterId": 1,
                  "clusterSize": 4
                },
                "provisioningState": "Succeeded"
              }
            }
          ]
        }
      ]
  PrivateClouds.ListAdminCredentials:
    description: |-
      List the admin credentials for the private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/privateclouds/listadmincredentials
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "nsxtPassword": "$(1X4Dkk",
          "nsxtUsername": "admin",
          "vcenterPassword": "<vcenterPassword>",
          "vcenterUsername": "cloudadmin@vmcp.local"
        }
      ]
  PrivateClouds.ListInSubscription:
    description: |-
      List private clouds in a subscription
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/privateclouds/listinsubscription
    example:
      inputs: [
        {}
      ]
      outputs: [
        [
          {
            "id": "/subscriptions/{subscription-id}/resourceGroups/group1/providers/Microsoft.AVS/privateClouds/cloud1",
            "sku": {
              "name": "AV36"
            },
            "name": "cloud1",
            "tags": {},
            "type": "Microsoft.AVS/privateClouds",
            "location": "eastus2",
            "properties": {
              "circuit": {
                "primarySubnet": "192.168.53.0/30",
                "expressRouteID": "/subscriptions/{subscription-id}/resourceGroups/tnt13-41a90db2-9d5e-4bd5-a77a-5ce7b58213d6-eastus2/providers/Microsoft.Network/expressroutecircuits/tnt13-41a90db2-9d5e-4bd5-a77a-5ce7b58213d6-eastus2-xconnect",
                "secondarySubnet": "192.168.53.4/30",
                "expressRoutePrivatePeeringID": "/subscriptions/{subscription-id}/resourceGroups/tnt42-cust-p01-dmo01/providers/Microsoft.Network/expressroutecircuits/tnt42-cust-p01-dmo01-er/peerings/AzurePrivatePeering"
              },
              "internet": "Disabled",
              "endpoints": {
                "vcsa": "https://192.168.50.2/",
                "nsxtManager": "https://192.168.50.3/",
                "hcxCloudManager": "https://192.168.50.4/"
              },
              "networkBlock": "192.168.48.0/22",
              "identitySources": [
                {
                  "ssl": "Enabled",
                  "name": "group1",
                  "alias": "groupAlias",
                  "domain": "domain1",
                  "baseUserDN": "ou=baseUser",
                  "baseGroupDN": "ou=baseGroup",
                  "primaryServer": "ldaps://1.1.1.1:636/",
                  "secondaryServer": "ldaps://1.1.1.2:636/"
                }
              ],
              "managementCluster": {
                "hosts": [
                  "fakehost18.nyc1.kubernetes.center",
                  "fakehost19.nyc1.kubernetes.center",
                  "fakehost20.nyc1.kubernetes.center",
                  "fakehost21.nyc1.kubernetes.center"
                ],
                "clusterId": 1,
                "clusterSize": 4
              },
              "provisioningState": "Succeeded"
            }
          }
        ]
      ]
  PrivateClouds.Update:
    description: |-
      Update a private cloud
    versions:
      from: 2020.3.20
    link: https://docs.microsoft.com/en-us/rest/api/avs/privateclouds/update
    example:
      inputs: [
        {
          "properties": {
            "managementCluster": {
              "clusterSize": 4
            }
          }
        }
      ]
      outputs: [
        {
          "id": "/subscriptions/{subscription-id}/resourceGroups/group1/providers/Microsoft.AVS/privateClouds/cloud1",
          "sku": {
            "name": "AV36"
          },
          "name": "cloud1",
          "tags": {},
          "type": "Microsoft.AVS/privateClouds",
          "location": "eastus2",
          "properties": {
            "circuit": {
              "primarySubnet": "192.168.53.0/30",
              "expressRouteID": "/subscriptions/{subscription-id}/resourceGroups/tnt13-41a90db2-9d5e-4bd5-a77a-5ce7b58213d6-eastus2/providers/Microsoft.Network/expressroutecircuits/tnt13-41a90db2-9d5e-4bd5-a77a-5ce7b58213d6-eastus2-xconnect",
              "secondarySubnet": "192.168.53.4/30",
              "expressRoutePrivatePeeringID": "/subscriptions/{subscription-id}/resourceGroups/tnt42-cust-p01-dmo01/providers/Microsoft.Network/expressroutecircuits/tnt42-cust-p01-dmo01-er/peerings/AzurePrivatePeering"
            },
            "internet": "Disabled",
            "endpoints": {
              "vcsa": "https://192.168.50.2/",
              "nsxtManager": "https://192.168.50.3/",
              "hcxCloudManager": "https://192.168.50.4/"
            },
            "networkBlock": "192.168.48.0/22",
            "identitySources": [
              {
                "ssl": "Enabled",
                "name": "group1",
                "alias": "groupAlias",
                "domain": "domain1",
                "baseUserDN": "ou=baseUser",
                "baseGroupDN": "ou=baseGroup",
                "primaryServer": "ldaps://1.1.1.1:636/",
                "secondaryServer": "ldaps://1.1.1.2:636/"
              }
            ],
            "managementCluster": {
              "hosts": [
                "fakehost18.nyc1.kubernetes.center",
                "fakehost19.nyc1.kubernetes.center",
                "fakehost20.nyc1.kubernetes.center",
                "fakehost21.nyc1.kubernetes.center"
              ],
              "clusterId": 1,
              "clusterSize": 4
            },
            "provisioningState": "Succeeded"
          }
        }
      ]