Product:
  name: Azure IoT Hub Device Provisioning Service
  versions: [2018.1.22,2019.3.31]
  package: microsoft.azure.iothubdeviceprovisioningservice
  description: |-
    IoTHubDeviceProvisioningService
  link: https://docs.microsoft.com/en-us/azure/iot-dps/
  contentType: json
Operations:
  CreateOrUpdateEnrollmentGroup.CreateOrUpdateEnrollmentGroup:
    description: |-
      Create or update a device enrollment group.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/createorupdateenrollmentgroup/createorupdateenrollmentgroup
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  CreateOrUpdateIndividualEnrollment.CreateOrUpdateIndividualEnrollment:
    description: |-
      Create or update a device enrollment record.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/createorupdateindividualenrollment/createorupdateindividualenrollment
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  DeleteDeviceRegistrationState.DeleteDeviceRegistrationState:
    description: |-
      Deletes the device registration
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/deletedeviceregistrationstate/deletedeviceregistrationstate
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  DeleteEnrollmentGroup.DeleteEnrollmentGroup:
    description: |-
      Delete a device enrollment group.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/deleteenrollmentgroup/deleteenrollmentgroup
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  DeleteIndividualEnrollment.DeleteIndividualEnrollment:
    description: |-
      Delete a device enrollment record.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/deleteindividualenrollment/deleteindividualenrollment
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  DpsCertificate.CreateOrUpdate:
    description: |-
      Upload the certificate to the provisioning service.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/dpscertificate/createorupdate
    example:
      inputs: [
        {
          "certificate": "############################################"
        }
      ]
      outputs: [
        {
          "id": "/subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/ProvisioningServives/myFirstProvisioningService/certificates/cert",
          "etag": "AAAAAAExpNs=",
          "name": "cert",
          "type": "Microsoft.Devices/ProvisioningServices/Certificates",
          "properties": {
            "expiry": "Sat, 31 Dec 2039 23:59:59 GMT",
            "created": "Thu, 12 Oct 2017 19:23:50 GMT",
            "subject": "CN=testdevice1",
            "updated": "Thu, 12 Oct 2017 19:23:50 GMT",
            "isVerified": false,
            "thumbprint": "97388663832D0393C9246CAB4FBA2C8677185A25"
          }
        }
      ]
  DpsCertificate.Delete:
    description: |-
      Delete the Provisioning Service Certificate.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/dpscertificate/delete
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  DpsCertificate.GenerateVerificationCode:
    description: |-
      Generate verification code for Proof of Possession.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/dpscertificate/generateverificationcode
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "name": "cert",
          "properties": {
            "expiry": "Sat, 31 Dec 2039 23:59:59 GMT",
            "created": "Thu, 12 Oct 2017 19:23:50 GMT",
            "subject": "CN=andbucdevice1",
            "updated": "Thu, 12 Oct 2017 19:26:56 GMT",
            "isVerified": false,
            "thumbprint": "##############################",
            "verificationCode": "##################################"
          }
        }
      ]
  DpsCertificate.Get:
    description: |-
      Get the certificate from the provisioning service.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/dpscertificate/get
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/IotHubs/andbuc-hub/certificates/cert",
          "etag": "AAAAAAExpNs=",
          "name": "cert",
          "type": "Microsoft.Devices/ProvisioningServices/Certificates",
          "properties": {
            "expiry": "Sat, 31 Dec 2039 23:59:59 GMT",
            "created": "Thu, 12 Oct 2017 19:23:50 GMT",
            "subject": "CN=testdevice1",
            "updated": "Thu, 12 Oct 2017 19:23:50 GMT",
            "isVerified": false,
            "thumbprint": "97388663832D0393C9246CAB4FBA2C8677185A25"
          }
        }
      ]
  DpsCertificate.List:
    description: |-
      Get all the certificates tied to the provisioning service.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/dpscertificate/list
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "/subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/IotHubs/andbuc-hub/certificates/cert",
              "etag": "AAAAAAExpNs=",
              "name": "cert",
              "type": "Microsoft.Devices/ProvisioningServices/Certificates",
              "properties": {
                "expiry": "Sat, 31 Dec 2039 23:59:59 GMT",
                "created": "Thu, 12 Oct 2017 19:23:50 GMT",
                "subject": "CN=testdevice1",
                "updated": "Thu, 12 Oct 2017 19:23:50 GMT",
                "isVerified": false,
                "thumbprint": "97388663832D0393C9246CAB4FBA2C8677185A25"
              }
            }
          ]
        }
      ]
  DpsCertificate.VerifyCertificate:
    description: |-
      Verify certificate's private key possession.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/dpscertificate/verifycertificate
    example:
      inputs: [
        {
          "certificate": "#####################################"
        }
      ]
      outputs: [
        {
          "id": "/subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/ProvisioningServices/myFirstProvisioningService/certificates/cert",
          "etag": "AAAAAAExpTQ=",
          "name": "cert",
          "type": "Microsoft.Devices/ProvisioningServices/Certificates",
          "properties": {
            "expiry": "Sat, 31 Dec 2039 23:59:59 GMT",
            "created": "Thu, 12 Oct 2017 19:23:50 GMT",
            "subject": "CN=andbucdevice1",
            "updated": "Thu, 12 Oct 2017 19:26:56 GMT",
            "isVerified": true,
            "thumbprint": "97388663832D0393C9246CAB4FBA2C8677185A25"
          }
        }
      ]
  GetDeviceRegistrationState.GetDeviceRegistrationState:
    description: |-
      Gets the device registration state.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/getdeviceregistrationstate/getdeviceregistrationstate
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  GetEnrollmentGroupAttestationMechanism.GetEnrollmentGroupAttestationMechanism:
    description: |-
      Get the attestation mechanism in the device enrollment group record.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/getenrollmentgroupattestationmechanism/getenrollmentgroupattestationmechanism
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  GetEnrollmentGroup.GetEnrollmentGroup:
    description: |-
      Get a device enrollment group.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/getenrollmentgroup/getenrollmentgroup
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  GetIndividualEnrollmentAttestationMechanism.GetIndividualEnrollmentAttestationMechanism:
    description: |-
      Get the attestation mechanism in the device enrollment record.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/getindividualenrollmentattestationmechanism/getindividualenrollmentattestationmechanism
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  GetIndividualEnrollment.GetIndividualEnrollment:
    description: |-
      Get a device enrollment record.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/getindividualenrollment/getindividualenrollment
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  IotDpsResource.CheckProvisioningServiceNameAvailability:
    description: |-
      Check if a provisioning service name is available.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/iotdpsresource/checkprovisioningservicenameavailability
    example:
      inputs: [
        {
          "name": "test213123"
        }
      ]
      outputs: [
        {
          "reason": "Invalid",
          "message": "name is valid",
          "nameAvailable": true
        }
      ]
  IotDpsResource.CreateOrUpdate:
    description: |-
      Create or update the metadata of the provisioning service.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/iotdpsresource/createorupdate
    example:
      inputs: [
        {
          "sku": {
            "name": "S1",
            "tier": "Standard",
            "capacity": 1
          },
          "tags": {},
          "type": "Microsoft.Devices/ProvisioningServices",
          "location": "East US",
          "properties": {}
        }
      ]
      outputs: [
        {
          "id": "/subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups//providers/Microsoft.Devices/ProvisioningServices/myFirstProvisioningService",
          "sku": {
            "name": "S1",
            "tier": "Standard",
            "capacity": 1
          },
          "etag": "AAAAAAAADGk=",
          "name": "myFirstProvisioningService",
          "tags": {},
          "type": "Microsoft.Devices/ProvisioningServices",
          "location": "eastus",
          "properties": {
            "state": "Active",
            "idScope": "0ne00000012",
            "allocationPolicy": "Hashed",
            "authorizationPolicies": [],
            "serviceOperationsHostName": "myFirstProvisioningService.azure-devices-provisioning.net",
            "deviceProvisioningHostName": "global.azure-devices-provisioning.net"
          }
        }
      ]
  IotDpsResource.Delete:
    description: |-
      Delete the Provisioning Service
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/iotdpsresource/delete
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  IotDpsResource.Get:
    description: |-
      Get the non-security related metadata of the provisioning service.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/iotdpsresource/get
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/ProvisioningServices/myFirstProvisioningService",
          "sku": {
            "name": "S1",
            "tier": "Standard",
            "capacity": 1
          },
          "etag": "AAAAAAAADGk=",
          "name": "myFirstProvisioningService",
          "tags": {},
          "type": "Microsoft.Devices/ProvisioningServices",
          "location": "eastus",
          "properties": {
            "state": "Active",
            "idScope": "0ne00000012",
            "allocationPolicy": "Hashed",
            "authorizationPolicies": [],
            "serviceOperationsHostName": "myFirstProvisioningService.azure-devices-provisioning.net",
            "deviceProvisioningHostName": "global.azure-devices-provisioning.net"
          }
        }
      ]
  IotDpsResource.GetOperationResult:
    description: |-
      Gets the status of a long running operation, such as create, update or delete a provisioning service.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/iotdpsresource/getoperationresult
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "status": "Succeeded"
        }
      ]
  IotDpsResource.ListByResourceGroup:
    description: |-
      Get a list of all provisioning services in the given resource group.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/iotdpsresource/listbyresourcegroup
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "/subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/ProvisioningServices/myFirstProvisioningService",
              "sku": {
                "name": "S1",
                "tier": "Standard",
                "capacity": 1
              },
              "etag": "AAAAAAAADGk=",
              "name": "myFirstProvisioningService",
              "tags": {},
              "type": "Microsoft.Devices/ProvisioningServices",
              "location": "eastus",
              "properties": {
                "state": "Active",
                "idScope": "0ne00000012",
                "allocationPolicy": "Hashed",
                "serviceOperationsHostName": "myFirstProvisioningService.azure-devices-provisioning.net",
                "deviceProvisioningHostName": "global.azure-devices-provisioning.net"
              }
            },
            {
              "id": "/subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/ProvisioningServices/mySecondProvisioningService",
              "sku": {
                "name": "S1",
                "tier": "Standard",
                "capacity": 1
              },
              "etag": "AAAAAAAADGk=",
              "name": "mySecondProvisioningService",
              "tags": {},
              "type": "Microsoft.Devices/ProvisioningServices",
              "location": "eastus",
              "properties": {
                "state": "Active",
                "idScope": "0ne00000012",
                "allocationPolicy": "Hashed",
                "serviceOperationsHostName": "mySecondProvisioningService.azure-devices-provisioning.net",
                "deviceProvisioningHostName": "global.azure-devices-provisioning.net"
              }
            }
          ]
        }
      ]
  IotDpsResource.ListBySubscription:
    description: |-
      Get all the provisioning services in a subscription.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/iotdpsresource/listbysubscription
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "/subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/ProvisioningServices/myFirstProvisioningService",
              "sku": {
                "name": "S1",
                "tier": "Standard",
                "capacity": 1
              },
              "etag": "AAAAAAAADGk=",
              "name": "myFirstProvisioningService",
              "tags": {},
              "type": "Microsoft.Devices/ProvisioningServices",
              "location": "eastus",
              "properties": {
                "state": "Active",
                "idScope": "0ne00000012",
                "allocationPolicy": "Hashed",
                "serviceOperationsHostName": "myFirstProvisioningService.azure-devices-provisioning.net",
                "deviceProvisioningHostName": "global.azure-devices-provisioning.net"
              }
            },
            {
              "id": "/subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/ProvisioningServices/mySecondProvisioningService",
              "sku": {
                "name": "S1",
                "tier": "Standard",
                "capacity": 1
              },
              "etag": "AAAAAAAADGk=",
              "name": "mySecondProvisioningService",
              "tags": {},
              "type": "Microsoft.Devices/ProvisioningServices",
              "location": "eastus",
              "properties": {
                "state": "Active",
                "idScope": "0ne00000012",
                "allocationPolicy": "Hashed",
                "serviceOperationsHostName": "myFirstProvisioningService.azure-devices-provisioning.net",
                "deviceProvisioningHostName": "global.azure-devices-provisioning.net"
              }
            }
          ]
        }
      ]
  IotDpsResource.ListKeys:
    description: |-
      Get the security metadata for a provisioning service.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/iotdpsresource/listkeys
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "rights": "ServiceConfig",
              "keyName": "key1",
              "primaryKey": "#####################################",
              "secondaryKey": "###################################"
            },
            {
              "rights": "ServiceConfig",
              "keyName": "key2",
              "primaryKey": "#######################################",
              "secondaryKey": "####################################="
            }
          ]
        }
      ]
  IotDpsResource.ListKeysForKeyName:
    description: |-
      Get a shared access policy by name from a provisioning service.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/iotdpsresource/listkeysforkeyname
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "rights": "RegistrationStatusWrite",
          "keyName": "testKey",
          "primaryKey": "##################################",
          "secondaryKey": "################################"
        }
      ]
  IotDpsResource.ListValidSkus:
    description: |-
      Get the list of valid SKUs for a provisioning service.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/iotdpsresource/listvalidskus
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "name": "S1"
            }
          ]
        }
      ]
  IotDpsResource.Update:
    description: |-
      Update an existing provisioning service's tags.
    versions:
      from: 2018.1.22
      to: 2018.1.22
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/iotdpsresource/update
    example:
      inputs: [
        {
          "tags": {
            "foo": "bar"
          }
        }
      ]
      outputs: [
        {
          "id": "/subscriptions/91d12660-3dec-467a-be2a-213b5544ddc0/resourceGroups/myResourceGroup/providers/Microsoft.Devices/ProvisioningServices/myFirstProvisioningService",
          "sku": {
            "name": "S1",
            "tier": "Standard",
            "capacity": 1
          },
          "etag": "AAAAAAAADGk=",
          "name": "myFirstProvisioningService",
          "tags": {
            "foo": "bar"
          },
          "type": "Microsoft.Devices/ProvisioningServices",
          "location": "eastus",
          "properties": {
            "state": "Active",
            "idScope": "0ne00000012",
            "allocationPolicy": "Hashed",
            "serviceOperationsHostName": "myFirstProvisioningService.azure-devices-provisioning.net",
            "deviceProvisioningHostName": "global.azure-devices-provisioning.net"
          }
        }
      ]
  QueryDeviceRegistrationStates.QueryDeviceRegistrationStates:
    description: |-
      Gets the registration state of devices in this enrollmentGroup.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/querydeviceregistrationstates/querydeviceregistrationstates
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  QueryEnrollmentGroups.QueryEnrollmentGroups:
    description: |-
      Query the device enrollment groups.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/queryenrollmentgroups/queryenrollmentgroups
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  QueryIndividualEnrollments.QueryIndividualEnrollments:
    description: |-
      Query the device enrollment records.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/queryindividualenrollments/queryindividualenrollments
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  RunBulkEnrollmentGroupOperation.RunBulkEnrollmentGroupOperation:
    description: |-
      Bulk device enrollment group operation with maximum of 10 groups.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/runbulkenrollmentgroupoperation/runbulkenrollmentgroupoperation
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  RunBulkIndividualEnrollmentOperation.RunBulkIndividualEnrollmentOperation:
    description: |-
      Bulk device enrollment operation with maximum of 10 enrollments.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/runbulkindividualenrollmentoperation/runbulkindividualenrollmentoperation
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  RuntimeRegistration.DeviceRegistrationStatusLookup:
    description: |-
      Gets the device registration status.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/runtimeregistration/deviceregistrationstatuslookup
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  RuntimeRegistration.OperationStatusLookup:
    description: |-
      Gets the registration operation status.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/runtimeregistration/operationstatuslookup
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  RuntimeRegistration.RegisterDevice:
    description: |-
      Registers the devices.
    versions:
      from: 2019.3.31
      to: 2019.3.31
    link: https://docs.microsoft.com/en-us/rest/api/iot-dps/runtimeregistration/registerdevice
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]