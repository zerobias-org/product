Product:
  name: Azure Communication
  versions: [2020.8.20,2021.3.7]
  package: microsoft.azure.communication
  description: |-
    Communication
  link: https://docs.microsoft.com/en-us/azure/communication-services/
  contentType: json
Operations:
  Chat.Chat.CreateChatThread:
    description: |-
      Creates a chat thread.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chat/createchatthread
    example:
      inputs: [
        {
          "topic": "Lunch",
          "participants": [
            {
              "displayName": "Jane",
              "communicationIdentifier": {
                "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10a",
                "communicationUser": {
                  "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10a"
                }
              }
            },
            {
              "displayName": "Alex",
              "communicationIdentifier": {
                "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b",
                "communicationUser": {
                  "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b"
                }
              }
            },
            {
              "displayName": "Bob",
              "communicationIdentifier": {
                "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10c",
                "communicationUser": {
                  "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10c"
                }
              }
            },
            {
              "displayName": "Peter",
              "communicationIdentifier": {
                "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10d",
                "communicationUser": {
                  "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10d"
                }
              }
            }
          ]
        }
      ]
      outputs: [
        {
          "chatThread": {
            "id": "19:uni01_zbnh3nt2dfuffezc3sox7dog7wfhk6y5qe2rwlnfhlhdzirihdpq@thread.v2",
            "topic": "Lunch",
            "createdOn": "2020-06-06T05:55:41.6460000Z",
            "createdByCommunicationIdentifier": {
              "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10a",
              "communicationUser": {
                "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10a"
              }
            }
          },
          "invalidParticipants": [
            {
              "code": "403",
              "target": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10c",
              "message": "Permissions check failed"
            },
            {
              "code": "404",
              "target": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10d",
              "message": "Not found"
            }
          ]
        }
      ]
  Chat.Chat.DeleteChatThread:
    description: |-
      Deletes a thread.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chat/deletechatthread
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "error": {
            "code": "Unauthorized",
            "message": "Request is not authorized."
          }
        }
      ]
  Chat.Chat.ListChatThreads:
    description: |-
      Gets the list of chat threads of a user.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chat/listchatthreads
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "19:uni01_zbnh3nt2dfuffezc3sox7dog7wfhk6y5qe2rwlnfhlhdzirihdpq@thread.v2",
              "topic": "Chat with Samantha",
              "lastMessageReceivedOn": "2020-06-06T05:55:41.6460000Z"
            },
            {
              "id": "19:a0dfe5fc10e04a7f8d8a64d455f4196d@thread.v2",
              "topic": "Presentation Brainstorming",
              "lastMessageReceivedOn": "2020-06-06T05:55:41.6460000Z"
            },
            {
              "id": "19:uni01_n242d2bzammtwxiib7pbjtozeevjqzavzn654ku3dajocexfo2na@thread.v2",
              "topic": "Chat with Alex",
              "lastMessageReceivedOn": "2020-06-06T05:55:41.6460000Z"
            },
            {
              "id": "19:0062022a28be4e0983734f7e45cd8566@thread.v2",
              "topic": "Lunch",
              "deletedOn": "2020-07-07T05:55:41.6460000Z",
              "lastMessageReceivedOn": "2020-06-06T05:55:41.6460000Z"
            },
            {
              "id": "19:uni01_zbnh3nt2dfuffezc3sox7dog7wfhk6y5qe2rwlnfhlhdzirihdpe@thread.v2",
              "topic": "Chat with Bob",
              "lastMessageReceivedOn": "2020-06-06T05:55:41.6460000Z"
            }
          ],
          "nextLink": "https://contoso.westus.communications.azure.com/chat/threads?syncState=W3sic3RhcnQiOiIyMDIwLTA2LTIzVDIzOjMyOjQ3LjMwNSswMDowMCIsImVuZCI6IjIwMjAtMDYtMjVUMDY6NTY6MjMuNjk2KzAwOjAwIn0seyJzdGFydCI6IjE5NzAtMDEtMDFUMDA6MDA6MDArMDA6MDAiLCJlbmQiOiIxOTcwLTAxLTAxVDAwOjAwOjAwKzAwOjAwIn1d&api-version=2021-03-07&maxPageSize=5"
        }
      ]
  Chat.ChatThread.AddChatParticipants:
    description: |-
      Adds thread participants to a thread. If participants already exist, no change occurs.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chatthread/addchatparticipants
    example:
      inputs: [
        {
          "participants": [
            {
              "displayName": "Alex",
              "shareHistoryTime": "2020-06-06T05:55:41Z",
              "communicationIdentifier": {
                "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10a",
                "communicationUser": {
                  "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10a"
                }
              }
            },
            {
              "displayName": "Peter",
              "shareHistoryTime": "2020-06-06T05:55:41Z",
              "communicationIdentifier": {
                "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b",
                "communicationUser": {
                  "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b"
                }
              }
            },
            {
              "displayName": "Rama",
              "shareHistoryTime": "2020-06-06T05:55:41Z",
              "communicationIdentifier": {
                "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10c",
                "communicationUser": {
                  "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10c"
                }
              }
            }
          ]
        }
      ]
      outputs: [
        {
          "invalidParticipants": [
            {
              "code": "403",
              "target": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10c",
              "message": "Permissions check failed"
            },
            {
              "code": "404",
              "target": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10a",
              "message": "Not found"
            }
          ]
        }
      ]
  Chat.ChatThread.DeleteChatMessage:
    description: |-
      Deletes a message.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chatthread/deletechatmessage
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "error": {
            "code": "Unauthorized",
            "message": "Request is not authorized."
          }
        }
      ]
  Chat.ChatThread.GetChatMessage:
    description: |-
      Gets a message by id.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chatthread/getchatmessage
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "1591768249318",
          "type": "text",
          "content": {
            "message": "Let's head out for lunch in 15 minutes."
          },
          "version": "1599016601134",
          "createdOn": "2020-06-10T05:50:49.3180000Z",
          "sequenceId": "1",
          "senderDisplayName": "Jane",
          "senderCommunicationIdentifier": {
            "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b",
            "communicationUser": {
              "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b"
            }
          }
        }
      ]
  Chat.ChatThread.GetChatThreadProperties:
    description: |-
      Gets a chat thread's properties.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chatthread/getchatthreadproperties
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "19:uni01_zbnh3nt2dfuffezc3sox7dog7wfhk6y5qe2rwlnfhlhdzirihdpq@thread.v2",
          "topic": "Lunch",
          "createdOn": "2020-06-06T05:55:41.6460000Z",
          "createdByCommunicationIdentifier": {
            "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b",
            "communicationUser": {
              "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b"
            }
          }
        }
      ]
  Chat.ChatThread.ListChatMessages:
    description: |-
      Gets a list of messages from a thread.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chatthread/listchatmessages
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "1593107077690",
              "type": "text",
              "content": {
                "message": "So where should we get lunch from today?"
              },
              "version": "1593107077683",
              "createdOn": "2020-06-25T17:44:37.6830000Z",
              "sequenceId": "5",
              "senderDisplayName": "Jane",
              "senderCommunicationIdentifier": {
                "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b",
                "communicationUser": {
                  "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b"
                }
              }
            },
            {
              "id": "1593107077683",
              "type": "text",
              "content": {
                "message": "Let's use this chat to decide what to get for lunch today."
              },
              "version": "1593107077683",
              "createdOn": "2020-06-25T17:44:37.6830000Z",
              "sequenceId": "4",
              "senderDisplayName": "Jane",
              "senderCommunicationIdentifier": {
                "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b",
                "communicationUser": {
                  "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b"
                }
              }
            },
            {
              "id": "1593107046498",
              "type": "text",
              "content": {
                "message": "Good morning everyone!"
              },
              "version": "1593107046498",
              "createdOn": "2020-06-25T17:44:06.4980000Z",
              "sequenceId": "3",
              "senderDisplayName": "Jane",
              "senderCommunicationIdentifier": {
                "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b",
                "communicationUser": {
                  "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b"
                }
              }
            },
            {
              "id": "1593106976785",
              "type": "topicUpdated",
              "content": {
                "topic": "Lunch",
                "initiatorCommunicationIdentifier": {
                  "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b",
                  "communicationUser": {
                    "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b"
                  }
                }
              },
              "version": "1593106976785",
              "createdOn": "2020-06-25T17:42:56.7850000Z",
              "sequenceId": "2"
            },
            {
              "id": "1593106976753",
              "type": "participantAdded",
              "content": {
                "participants": [
                  {
                    "communicationIdentifier": {
                      "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b",
                      "communicationUser": {
                        "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b"
                      }
                    }
                  },
                  {
                    "communicationIdentifier": {
                      "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10c",
                      "communicationUser": {
                        "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10c"
                      }
                    }
                  },
                  {
                    "communicationIdentifier": {
                      "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10d",
                      "communicationUser": {
                        "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10d"
                      }
                    }
                  }
                ],
                "initiatorCommunicationIdentifier": {
                  "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b",
                  "communicationUser": {
                    "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b"
                  }
                }
              },
              "version": "1593106976753",
              "createdOn": "2020-06-25T17:42:56.7530000Z",
              "sequenceId": "1"
            }
          ],
          "nextLink": "https://contoso.westus.communications.azure.com/chat/threads/19:453dafb77b26481ea2e73bcada0324af@thread.v2/messages?syncState=3e4700000031393a756e6930315f7a626e68336e74326466756666657a6333736f7837646f67377766686b36793571653272776c6e66686c68647a69726968647071407468726561642e763201451fe6e77201000004357fea72010000&startTime=0&maxPageSize=5&api-version=2021-03-07"
        }
      ]
  Chat.ChatThread.ListChatParticipants:
    description: |-
      Gets the participants of a thread.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chatthread/listchatparticipants
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "displayName": "Jane",
              "shareHistoryTime": "2020-06-06T05:55:41Z",
              "communicationIdentifier": {
                "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10a",
                "communicationUser": {
                  "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10a"
                }
              }
            },
            {
              "displayName": "Alex",
              "shareHistoryTime": "2020-06-06T05:55:41Z",
              "communicationIdentifier": {
                "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b",
                "communicationUser": {
                  "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b"
                }
              }
            }
          ],
          "nextLink": "https://contoso.westus.communications.azure.com/chat/threads/19:453dafb77b26481ea2e73bcada0324af@thread.v2/participants?skip=2&maxPageSize=2&api-version=2021-03-07"
        }
      ]
  Chat.ChatThread.ListChatReadReceipts:
    description: |-
      Gets chat message read receipts for a thread.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chatthread/listchatreadreceipts
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "readOn": "2020-06-06T05:55:41.6460000Z",
              "chatMessageId": "1591137790240",
              "senderCommunicationIdentifier": {
                "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b",
                "communicationUser": {
                  "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b"
                }
              }
            },
            {
              "readOn": "2020-06-06T05:55:41.6460000Z",
              "chatMessageId": "1591768249318",
              "senderCommunicationIdentifier": {
                "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10a",
                "communicationUser": {
                  "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10a"
                }
              }
            }
          ],
          "nextLink": "https://contoso.westus.communications.azure.com/chat/threads/19:453dafb77b26481ea2e73bcada0324af@thread.v2/readReceipts?skip=2&maxPageSize=2&api-version=2021-03-07"
        }
      ]
  Chat.ChatThread.RemoveChatParticipant:
    description: |-
      Remove a participant from a thread.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chatthread/removechatparticipant
    example:
      inputs: [
        {
          "rawId": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b",
          "communicationUser": {
            "id": "8:acs:8540c0de-899f-5cce-acb5-3ec493af3800_0e59221d-0c1d-46ae-9544-c963ce56c10b"
          }
        }
      ]
      outputs: [
        {
          "error": {
            "code": "Unauthorized",
            "message": "Request is not authorized."
          }
        }
      ]
  Chat.ChatThread.SendChatMessage:
    description: |-
      Sends a message to a thread.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chatthread/sendchatmessage
    example:
      inputs: [
        {
          "content": "Let's head out for lunch in 15 minutes.",
          "senderDisplayName": "Jane"
        }
      ]
      outputs: [
        {
          "id": "1593072104708"
        }
      ]
  Chat.ChatThread.SendChatReadReceipt:
    description: |-
      Sends a read receipt event to a thread, on behalf of a user.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chatthread/sendchatreadreceipt
    example:
      inputs: [
        {
          "chatMessageId": "1591137790240"
        }
      ]
      outputs: [
        {
          "error": {
            "code": "Unauthorized",
            "message": "Request is not authorized."
          }
        }
      ]
  Chat.ChatThread.SendTypingNotification:
    description: |-
      Posts a typing event to a thread, on behalf of a user.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chatthread/sendtypingnotification
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "error": {
            "code": "Unauthorized",
            "message": "Request is not authorized."
          }
        }
      ]
  Chat.ChatThread.UpdateChatMessage:
    description: |-
      Updates a message.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chatthread/updatechatmessage
    example:
      inputs: [
        {
          "content": "Updated message content"
        }
      ]
      outputs: [
        {
          "error": {
            "code": "Unauthorized",
            "message": "Request is not authorized."
          }
        }
      ]
  Chat.ChatThread.UpdateChatThreadProperties:
    description: |-
      Updates a thread's properties.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/chat/chatthread/updatechatthreadproperties
    example:
      inputs: [
        {
          "topic": "Updated Thread Topic"
        }
      ]
      outputs: [
        {
          "error": {
            "code": "Unauthorized",
            "message": "Request is not authorized."
          }
        }
      ]
  CommunicationIdentity.Create:
    description: |-
      Create a new identity.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/communicationidentity/create
    example:
      inputs: [
        {
          "createTokenWithScopes": [
            "chat"
          ]
        }
      ]
      outputs: [
        {
          "identity": {
            "id": "8:acs:2dee53b4-368b-45b4-ab52-8493fb117652_00000005-14a2-493b-8a72-5a3a0d000081"
          },
          "accessToken": {
            "token": "token",
            "expiresOn": "2020-09-10T21:39:39.3244584+00:00"
          }
        }
      ]
  CommunicationIdentity.Delete:
    description: |-
      Delete the identity, revoke all tokens for the identity and delete all associated data.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/communicationidentity/delete
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  CommunicationIdentity.IssueAccessToken:
    description: |-
      Issue a new token for an identity.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/communicationidentity/issueaccesstoken
    example:
      inputs: [
        {
          "scopes": [
            "chat"
          ]
        }
      ]
      outputs: [
        {
          "token": "token",
          "expiresOn": "2020-09-10T21:39:39.3244584+00:00"
        }
      ]
  CommunicationIdentity.RevokeAccessTokens:
    description: |-
      Revoke all access tokens for the specific identity.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/communicationidentity/revokeaccesstokens
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  CommunicationService.CheckNameAvailability:
    description: |-
      Check Name Availability
    versions:
      from: 2020.8.20
      to: 2020.8.20
    link: https://docs.microsoft.com/en-us/rest/api/communication/communicationservice/checknameavailability
    example:
      inputs: [
        {
          "name": "MyCommunicationService",
          "type": "Microsoft.Communication/CommunicationServices"
        }
      ]
      outputs: [
        {
          "reason": "NameAvailable",
          "message": "Requested name is available for the requested type",
          "nameAvailable": true
        }
      ]
  CommunicationService.CreateOrUpdate:
    description: |-
      Create Or Update
    versions:
      from: 2020.8.20
      to: 2020.8.20
    link: https://docs.microsoft.com/en-us/rest/api/communication/communicationservice/createorupdate
    example:
      inputs: [
        {
          "location": "Global",
          "properties": {
            "dataLocation": "United States"
          }
        }
      ]
      outputs: [
        {
          "id": "/subscriptions/12345/resourceGroups/MyResourceGroup/providers/Microsoft.Communication/CommunicationServices/MyCommunicationResource",
          "name": "MyCommunicationResource",
          "type": "Microsoft.Communication/CommunicationServices",
          "location": "Global",
          "properties": {
            "hostName": "mycommunicationresource.communications.azure.com",
            "dataLocation": "United States",
            "provisioningState": "Succeeded"
          }
        }
      ]
  CommunicationService.Delete:
    description: |-
      Delete
    versions:
      from: 2020.8.20
      to: 2020.8.20
    link: https://docs.microsoft.com/en-us/rest/api/communication/communicationservice/delete
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  CommunicationService.Get:
    description: |-
      Get
    versions:
      from: 2020.8.20
      to: 2020.8.20
    link: https://docs.microsoft.com/en-us/rest/api/communication/communicationservice/get
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/subscriptions/12345/resourceGroups/MyResourceGroup/providers/Microsoft.Communication/CommunicationServices/MyCommunicationResource",
          "name": "MyCommunicationResource",
          "type": "Microsoft.Communication/CommunicationServices",
          "location": "Global",
          "properties": {
            "version": "0.2.0",
            "hostName": "mycommunicationservice.comms.azure.net",
            "dataLocation": "United States",
            "provisioningState": "Running"
          }
        }
      ]
  CommunicationService.LinkNotificationHub:
    description: |-
      Link Notification Hub
    versions:
      from: 2020.8.20
      to: 2020.8.20
    link: https://docs.microsoft.com/en-us/rest/api/communication/communicationservice/linknotificationhub
    example:
      inputs: [
        {
          "resourceId": "/subscriptions/12345/resourceGroups/MyOtherResourceGroup/providers/Microsoft.NotificationHubs/namespaces/MyNamespace/notificationHubs/MyHub",
          "connectionString": "Endpoint=sb://MyNamespace.servicebus.windows.net/;SharedAccessKey=abcd1234"
        }
      ]
      outputs: [
        {
          "resourceId": "/subscriptions/12345/resourceGroups/MyOtherResourceGroup/providers/Microsoft.NotificationHubs/namespaces/MyNamespace/notificationHubs/MyHub"
        }
      ]
  CommunicationService.ListByResourceGroup:
    description: |-
      List By Resource Group
    versions:
      from: 2020.8.20
      to: 2020.8.20
    link: https://docs.microsoft.com/en-us/rest/api/communication/communicationservice/listbyresourcegroup
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "properties": {
                "version": "0.2.0",
                "hostName": "mycommunicationservice.comms.azure.net",
                "dataLocation": "United States",
                "provisioningState": "Running"
              }
            }
          ]
        }
      ]
  CommunicationService.ListBySubscription:
    description: |-
      List By Subscription
    versions:
      from: 2020.8.20
      to: 2020.8.20
    link: https://docs.microsoft.com/en-us/rest/api/communication/communicationservice/listbysubscription
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "properties": {
                "version": "0.2.0",
                "hostName": "mycommunicationservice.comms.azure.net",
                "dataLocation": "United States",
                "provisioningState": "Running"
              }
            }
          ]
        }
      ]
  CommunicationService.ListKeys:
    description: |-
      List Keys
    versions:
      from: 2020.8.20
      to: 2020.8.20
    link: https://docs.microsoft.com/en-us/rest/api/communication/communicationservice/listkeys
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "primaryKey": "<primaryKey>",
          "secondaryKey": "<secondaryKey>"
        }
      ]
  CommunicationService.RegenerateKey:
    description: |-
      Regenerate Key
    versions:
      from: 2020.8.20
      to: 2020.8.20
    link: https://docs.microsoft.com/en-us/rest/api/communication/communicationservice/regeneratekey
    example:
      inputs: [
        {
          "keyType": "Primary"
        }
      ]
      outputs: [
        {
          "primaryKey": "1234",
          "primaryConnectionString": "endpoint=http://example.com;accesskey=1234"
        }
      ]
  CommunicationService.Update:
    description: |-
      Update
    versions:
      from: 2020.8.20
      to: 2020.8.20
    link: https://docs.microsoft.com/en-us/rest/api/communication/communicationservice/update
    example:
      inputs: [
        {
          "tags": {
            "newTag": "newVal"
          }
        }
      ]
      outputs: [
        {
          "id": "/subscriptions/12345/resourceGroups/MyResourceGroup/providers/Microsoft.Communication/CommunicationServices/MyCommunicationResource",
          "name": "MyCommunicationResource",
          "tags": {
            "newTag": "newVal"
          },
          "type": "Microsoft.Communication/CommunicationServices",
          "location": "Global",
          "properties": {
            "version": "0.2.0",
            "hostName": "mycommunicationresource.communications.azure.com",
            "dataLocation": "United States",
            "provisioningState": "Succeeded"
          }
        }
      ]
  OperationStatuses.Get:
    description: |-
      Get Operation Status
    versions:
      from: 2020.8.20
      to: 2020.8.20
    link: https://docs.microsoft.com/en-us/rest/api/communication/operationstatuses/get
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "db5f291f-284d-46e9-9152-d5c83f7c14b8",
          "status": "Succeeded",
          "endTime": "2020-07-06T17:06:42.800Z",
          "startTime": "2020-07-06T17:06:26.100Z",
          "percentComplete": 100
        }
      ]
  PhoneNumbers.CancelOperation:
    description: |-
      Cancels an operation by its id.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/phonenumbers/canceloperation
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  PhoneNumbers.GetByNumber:
    description: |-
      Gets the details of the given purchased phone number.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/phonenumbers/getbynumber
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "11234567890",
          "cost": {
            "amount": 0.8,
            "currencyCode": "USD",
            "billingFrequency": "monthly"
          },
          "countryCode": "US",
          "phoneNumber": "+11234567890",
          "capabilities": {
            "sms": "inbound",
            "calling": "inbound+outbound"
          },
          "purchaseDate": "2020-11-19T16:31:49.048Z",
          "assignmentType": "user",
          "phoneNumberType": "geographic"
        }
      ]
  PhoneNumbers.GetOperation:
    description: |-
      Gets an operation by its id.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/phonenumbers/getoperation
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "search-my-operation-id",
          "status": "succeeded",
          "operationType": "search",
          "createdDateTime": "2020-11-19T16:31:49.048Z",
          "resourceLocation": "",
          "lastActionDateTime": "2020-11-19T22:31:49.048Z"
        }
      ]
  PhoneNumbers.GetSearchResult:
    description: |-
      Gets a phone number search result by search id.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/phonenumbers/getsearchresult
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "cost": {
            "amount": 1.2,
            "currencyCode": "USD",
            "billingFrequency": "monthly"
          },
          "searchId": "378ddf60-81be-452a-ba4f-613198ea6c28",
          "capabilities": {
            "sms": "inbound+outbound",
            "calling": "none"
          },
          "phoneNumbers": [
            "+18001212121"
          ],
          "assignmentType": "application",
          "phoneNumberType": "tollFree",
          "searchExpiresBy": "2020-11-19T16:31:49.048Z"
        }
      ]
  PhoneNumbers.ListPhoneNumbers:
    description: |-
      Gets the list of all purchased phone numbers.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/phonenumbers/listphonenumbers
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "phoneNumbers": [
            {
              "id": "11234567890",
              "cost": {
                "amount": 0.8,
                "currencyCode": "USD",
                "billingFrequency": "monthly"
              },
              "countryCode": "US",
              "phoneNumber": "+11234567890",
              "capabilities": {
                "sms": "inbound",
                "calling": "inbound+outbound"
              },
              "purchaseDate": "2020-11-19T16:31:49.048Z",
              "assignmentType": "user",
              "phoneNumberType": "geographic"
            }
          ]
        }
      ]
  PhoneNumbers.PurchasePhoneNumbers:
    description: |-
      Purchases phone numbers.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/phonenumbers/purchasephonenumbers
    example:
      inputs: [
        {
          "searchId": "378ddf60-81be-452a-ba4f-613198ea6c28"
        }
      ]
      outputs: [
        {}
      ]
  PhoneNumbers.ReleasePhoneNumber:
    description: |-
      Releases a purchased phone number.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/phonenumbers/releasephonenumber
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  PhoneNumbers.SearchAvailablePhoneNumbers:
    description: |-
      Search for available phone numbers to purchase.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/phonenumbers/searchavailablephonenumbers
    example:
      inputs: [
        {
          "areaCode": "425",
          "quantity": 1,
          "capabilities": {
            "sms": "inbound+outbound",
            "calling": "none"
          },
          "assignmentType": "application",
          "phoneNumberType": "tollFree"
        }
      ]
      outputs: [
        {
          "cost": {
            "amount": 1.2,
            "currencyCode": "USD",
            "billingFrequency": "monthly"
          },
          "searchId": "378ddf60-81be-452a-ba4f-613198ea6c28",
          "capabilities": {
            "sms": "inbound+outbound",
            "calling": "none"
          },
          "phoneNumbers": [
            "+18001212121"
          ],
          "assignmentType": "application",
          "phoneNumberType": "tollFree",
          "searchExpiresBy": "2020-11-19T16:31:49.048Z"
        }
      ]
  PhoneNumbers.UpdateCapabilities:
    description: |-
      Updates the capabilities of a phone number.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/phonenumbers/updatecapabilities
    example:
      inputs: [
        {
          "sms": "none",
          "calling": "inbound+outbound"
        }
      ]
      outputs: [
        {
          "id": "14792000102",
          "cost": {
            "amount": 0.8,
            "currencyCode": "USD",
            "billingFrequency": "monthly"
          },
          "countryCode": "US",
          "phoneNumber": "+14792000102",
          "capabilities": {
            "sms": "none",
            "calling": "inbound+outbound"
          },
          "purchaseDate": "2020-11-19T16:31:49.048Z",
          "assignmentType": "person",
          "phoneNumberType": "geographic"
        }
      ]
  Sms.Send:
    description: |-
      Sends a SMS message from a phone number that belongs to the authenticated account.
    versions:
      from: 2021.3.7
      to: 2021.3.7
    link: https://docs.microsoft.com/en-us/rest/api/communication/sms/send
    example:
      inputs: [
        {
          "from": "+18001110000",
          "message": "Hello world!",
          "smsRecipients": [
            {
              "to": "+11234567890"
            },
            {
              "to": "+11234567891"
            },
            {
              "to": "+112345678901"
            },
            {
              "to": "+11234567892"
            },
            {
              "to": "+11234567893",
              "repeatabilityFirstSent": "Mon, 01 Apr 2019 06:22:03 GMT",
              "repeatabilityRequestId": "fda6d242-46aa-4247-8bf6-619a1206f9c3"
            },
            {
              "to": "+11234567894",
              "repeatabilityRequestId": "fda6d242-46aa-4247-8bf6-619a1206f9c3"
            }
          ],
          "smsSendOptions": {
            "tag": "testSmsRequest",
            "enableDeliveryReport": true
          }
        }
      ]
      outputs: [
        {
          "value": [
            {
              "to": "+11234567890",
              "messageId": "Outgoing_20200610203725bfd4ba70-70bf-4f77-925d-c0bdb5161bb3",
              "successful": true,
              "httpStatusCode": 202
            },
            {
              "to": "+11234567891",
              "messageId": "Outgoing_2020061020025100d1-d07e-4b19-b25d-13525d552822",
              "successful": true,
              "httpStatusCode": 202
            },
            {
              "to": "+112345678901",
              "successful": false,
              "errorMessage": "Invalid To phone number format.",
              "httpStatusCode": 400
            },
            {
              "to": "+11234567892",
              "messageId": "Outgoing_2020061020025100d1-d07e-4b19-b25d-13525d552822",
              "successful": false,
              "errorMessage": "ServiceUnavailable",
              "httpStatusCode": 503
            },
            {
              "to": "+11234567893",
              "messageId": "Outgoing_2020061020025100d1-d07e-4b19-b25d-13525d552822_noam",
              "successful": true,
              "httpStatusCode": 202,
              "repeatabilityResult": "accepted"
            },
            {
              "to": "+11234567894",
              "messageId": "Outgoing_2020061020025100d1-d07e-4b19-b25d-13525d552822",
              "successful": false,
              "errorMessage": "Request sent with Invalid DateTime value for repeatability-first-sent. Expected is DateTime ,RFC1123 pattern.",
              "httpStatusCode": 400,
              "repeatabilityResult": "rejected"
            }
          ]
        }
      ]