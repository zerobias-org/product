Product:
  name: Azure Management Groups
  versions: [2020.5.1]
  package: microsoft.azure.managementgroups
  description: |-
    ManagementGroups
  link: https://docs.microsoft.com/en-us/azure/governance/management-groups/
  contentType: json
Operations:
  CheckNameAvailability.CheckNameAvailability:
    description: |-
      Checks if the specified management group name is valid and unique
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/checknameavailability/checknameavailability
    example:
      inputs: [
        {
          "name": "nameTocheck",
          "type": "Microsoft.Management/managementGroups"
        }
      ]
      outputs: [
        {
          "reason": "AlreadyExists",
          "message": "Error message",
          "nameAvailable": false
        }
      ]
  Entities.List:
    description: |-
      List all entities (Management Groups, Subscriptions, etc.) for the authenticated user.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/entities/list
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "/providers/Microsoft.Management/managementGroups/20000000-0001-0000-0000-000000000000",
              "name": "20000000-0001-0000-0000-000000000000",
              "type": "Microsoft.Management/managementGroups",
              "properties": {
                "parent": {
                  "id": "/providers/Microsoft.Management/managementGroups/20000000-0000-0000-0000-000000000000"
                },
                "tenantId": "20000000-0000-0000-0000-000000000000",
                "displayName": "Group 1 Tenant 2",
                "permissions": "view",
                "parentNameChain": [
                  "TenantRootGroup",
                  "Group1Tenant2Parent"
                ],
                "numberOfChildren": 2,
                "numberOfChildGroups": 1,
                "numberOfDescendants": 3,
                "inheritedPermissions": "view",
                "parentDisplayNameChain": [
                  "Tenant Root Group",
                  "Group 1 Tenant 2 Parent"
                ]
              }
            },
            {
              "id": "/providers/Microsoft.Management/managementGroups/20000000-0004-0000-0000-000000000000",
              "name": "20000000-0004-0000-0000-000000000000",
              "type": "Microsoft.Management/managementGroups",
              "properties": {
                "parent": {
                  "id": "/providers/Microsoft.Management/managementGroups/20000000-0000-0000-0000-000000000000"
                },
                "tenantId": "20000000-0000-0000-0000-000000000000",
                "displayName": "Group 4 Tenant 2",
                "permissions": "delete",
                "parentNameChain": [
                  "TenantRootGroup",
                  "Group4 Tenant2Parent"
                ],
                "numberOfChildren": 0,
                "numberOfChildGroups": 0,
                "numberOfDescendants": 0,
                "inheritedPermissions": "delete",
                "parentDisplayNameChain": [
                  "Tenant Root Group",
                  "Group 4 Tenant 2 Parent"
                ]
              }
            }
          ],
          "nextLink": null
        }
      ]
  HierarchySettings.CreateOrUpdate:
    description: |-
      Creates or updates the hierarchy settings defined at the Management Group level.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/hierarchysettings/createorupdate
    example:
      inputs: [
        {
          "properties": {
            "defaultManagementGroup": "/providers/Microsoft.Management/managementGroups/DefaultGroup",
            "requireAuthorizationForGroupCreation": true
          }
        }
      ]
      outputs: [
        {
          "id": "/providers/Microsoft.Management/managementGroups/root/settings/default",
          "name": "root",
          "type": "Microsoft.Management/managementGroups/settings",
          "properties": {
            "tenantId": "20000000-0000-0000-0000-000000000000",
            "defaultManagementGroup": "/providers/Microsoft.Management/managementGroups/DefaultGroup",
            "requireAuthorizationForGroupCreation": true
          }
        }
      ]
  HierarchySettings.Delete:
    description: |-
      Deletes the hierarchy settings defined at the Management Group level.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/hierarchysettings/delete
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  HierarchySettings.Get:
    description: |-
      Gets the hierarchy settings defined at the Management Group level. Settings can only be set on the root Management Group of the hierarchy.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/hierarchysettings/get
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/providers/Microsoft.Management/managementGroups/root/settings/default",
          "name": "root",
          "type": "Microsoft.Management/managementGroups/settings",
          "properties": {
            "tenantId": "20000000-0000-0000-0000-000000000000",
            "defaultManagementGroup": "/providers/Microsoft.Management/managementGroups/DefaultGroup",
            "requireAuthorizationForGroupCreation": true
          }
        }
      ]
  HierarchySettings.List:
    description: |-
      Gets all the hierarchy settings defined at the Management Group level. Settings can only be set on the root Management Group of the hierarchy.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/hierarchysettings/list
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "/providers/Microsoft.Management/managementGroups/root/settings/default",
              "name": "root",
              "type": "Microsoft.Management/managementGroups/settings",
              "properties": {
                "tenantId": "20000000-0000-0000-0000-000000000000",
                "defaultManagementGroup": "/providers/Microsoft.Management/managementGroups/DefaultGroup",
                "requireAuthorizationForGroupCreation": true
              }
            }
          ],
          "nextLink": null
        }
      ]
  HierarchySettings.Update:
    description: |-
      Updates the hierarchy settings defined at the Management Group level.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/hierarchysettings/update
    example:
      inputs: [
        {
          "properties": {
            "defaultManagementGroup": "/providers/Microsoft.Management/managementGroups/DefaultGroup",
            "requireAuthorizationForGroupCreation": true
          }
        }
      ]
      outputs: [
        {
          "id": "/providers/Microsoft.Management/managementGroups/root/settings/default",
          "name": "root",
          "type": "Microsoft.Management/managementGroups/settings",
          "properties": {
            "tenantId": "20000000-0000-0000-0000-000000000000",
            "defaultManagementGroup": "/providers/Microsoft.Management/managementGroups/DefaultGroup",
            "requireAuthorizationForGroupCreation": true
          }
        }
      ]
  ManagementGroups.CreateOrUpdate:
    description: |-
      Create or update a management group.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/managementgroups/createorupdate
    example:
      inputs: [
        {
          "properties": {
            "details": {
              "parent": {
                "id": "/providers/Microsoft.Management/managementGroups/RootGroup"
              }
            },
            "displayName": "ChildGroup"
          }
        }
      ]
      outputs: [
        {
          "id": "/providers/Microsoft.Management/managementGroups/ChildGroup",
          "name": "ChildGroup",
          "type": "Microsoft.Management/managementGroups",
          "properties": {
            "details": {
              "parent": {
                "id": "/providers/Microsoft.Management/managementGroups/RootGroup",
                "name": "RootGroup",
                "displayName": "RootGroup"
              },
              "version": 1,
              "updatedBy": "16b8ef21-5c9f-420c-bcc9-e4f8c9f30b4b",
              "updatedTime": "2018-01-01T00:00:00.00Z"
            },
            "tenantId": "20000000-0000-0000-0000-000000000000",
            "displayName": "ChildGroup"
          }
        }
      ]
  ManagementGroups.Delete:
    description: |-
      Delete management group.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/managementgroups/delete
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/providers/Microsoft.Management/managementGroups/GroupToDelete",
          "name": "GroupToDelete",
          "type": "Microsoft.Management/managementGroups",
          "status": "NotStarted"
        }
      ]
  ManagementGroups.Get:
    description: |-
      Get the details of the management group.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/managementgroups/get
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": "/providers/Microsoft.Management/managementGroups/20000000-0001-0000-0000-000000000000",
          "name": "20000000-0001-0000-0000-000000000000",
          "type": "Microsoft.Management/managementGroups",
          "properties": {
            "details": {
              "parent": {
                "id": "/providers/Microsoft.Management/managementGroups/RootGroup",
                "name": "RootGroup",
                "displayName": "RootGroup"
              },
              "version": 1,
              "updatedBy": "16b8ef21-5c9f-420c-bcc9-e4f8c9f30b4b",
              "updatedTime": "2018-01-01T00:00:00.00Z"
            },
            "tenantId": "20000000-0000-0000-0000-000000000000",
            "displayName": "Group 1 Tenant 2"
          }
        }
      ]
  ManagementGroups.GetDescendants:
    description: |-
      List all entities that descend from a management group.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/managementgroups/getdescendants
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "/providers/Microsoft.Management/managementGroups/20000000-0001-0000-0000-000000000000",
              "name": "20000000-0001-0000-0000-000000000000",
              "type": "Microsoft.Management/managementGroups",
              "properties": {
                "parent": {
                  "id": "/providers/Microsoft.Management/managementGroups/20000000-0000-0000-0000-000000000000"
                },
                "displayName": "Group 1"
              }
            },
            {
              "id": "/subscriptions/20000000-0004-0000-0000-000000000000",
              "name": "20000000-0004-0000-0000-000000000000",
              "type": "Microsoft.Management/managementGroups/subscriptions",
              "properties": {
                "parent": {
                  "id": "/providers/Microsoft.Management/managementGroups/20000000-0000-0000-0000-000000000000"
                },
                "displayName": "Subscription 4"
              }
            }
          ],
          "nextLink": null
        }
      ]
  ManagementGroups.List:
    description: |-
      List management groups for the authenticated user.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/managementgroups/list
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "/providers/Microsoft.Management/managementGroups/20000000-0001-0000-0000-000000000000",
              "name": "20000000-0001-0000-0000-000000000000",
              "type": "Microsoft.Management/managementGroups",
              "properties": {
                "tenantId": "20000000-0000-0000-0000-000000000000",
                "displayName": "Group 1 Tenant 2"
              }
            },
            {
              "id": "/providers/Microsoft.Management/managementGroups/20000000-0004-0000-0000-000000000000",
              "name": "20000000-0004-0000-0000-000000000000",
              "type": "Microsoft.Management/managementGroups",
              "properties": {
                "tenantId": "20000000-0000-0000-0000-000000000000",
                "displayName": "Group 4 Tenant 2"
              }
            }
          ],
          "nextLink": null
        }
      ]
  ManagementGroupSubscriptions.Create:
    description: |-
      Associates existing subscription with the management group.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/managementgroupsubscriptions/create
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": " /providers/Microsoft.Management/managementGroups/Group/subscriptions/728bcbe4-8d56-4510-86c2-4921b8beefbc",
          "name": "728bcbe4-8d56-4510-86c2-4921b8beefbc",
          "type": "Microsoft.Management/managementGroups/subscriptions",
          "properties": {
            "state": "Active",
            "parent": {
              "id": "/providers/Microsoft.Management/managementGroups/Group"
            },
            "tenant": "e751ac82-623b-4913-8d74-22637c832373",
            "displayName": "Group"
          }
        }
      ]
  ManagementGroupSubscriptions.Delete:
    description: |-
      De-associates subscription from the management group.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/managementgroupsubscriptions/delete
    example:
      inputs: [
        {}
      ]
      outputs: [
        {}
      ]
  ManagementGroupSubscriptions.GetSubscription:
    description: |-
      Retrieves details about given subscription which is associated with the management group.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/managementgroupsubscriptions/getsubscription
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "id": " /providers/Microsoft.Management/managementGroups/Group/subscriptions/728bcbe4-8d56-4510-86c2-4921b8beefbc",
          "name": "728bcbe4-8d56-4510-86c2-4921b8beefbc",
          "type": "Microsoft.Management/managementGroups/subscriptions",
          "properties": {
            "state": "Active",
            "parent": {
              "id": "/providers/Microsoft.Management/managementGroups/Group"
            },
            "tenant": "e751ac82-623b-4913-8d74-22637c832373",
            "displayName": "Group"
          }
        }
      ]
  ManagementGroupSubscriptions.GetSubscriptionsUnderManagementGroup:
    description: |-
      Retrieves details about all subscriptions which are associated with the management group.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/managementgroupsubscriptions/getsubscriptionsundermanagementgroup
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "value": [
            {
              "id": "/providers/Microsoft.Management/managementGroups/Group/subscriptions/728bcbe4-8d56-4510-86c2-4921b8beefbc",
              "name": "728bcbe4-8d56-4510-86c2-4921b8beefbc",
              "type": "Microsoft.Management/managementGroups/subscriptions",
              "properties": {
                "state": "Active",
                "parent": {
                  "id": "/providers/Microsoft.Management/managementGroups/Group"
                },
                "tenant": "e751ac82-623b-4913-8d74-22637c832373",
                "displayName": "S5"
              }
            }
          ],
          "nextLink": null
        }
      ]
  ManagementGroups.Update:
    description: |-
      Update a management group.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/managementgroups/update
    example:
      inputs: [
        {
          "displayName": "AlternateDisplayName",
          "parentGroupId": "/providers/Microsoft.Management/managementGroups/AlternateRootGroup"
        }
      ]
      outputs: [
        {
          "id": "/providers/Microsoft.Management/managementGroups/ChildGroup",
          "name": "ChildGroup",
          "type": "Microsoft.Management/managementGroups",
          "properties": {
            "details": {
              "parent": {
                "id": "/providers/Microsoft.Management/managementGroups/AlternateRootGroup",
                "name": "AlternateRootGroup",
                "displayName": "AlternateRootGroup"
              },
              "version": 2,
              "updatedBy": "bd490e30-04cb-433e-b8c8-6066959a8bab",
              "updatedTime": "2018-01-25T02:46:59.0545645Z"
            },
            "tenantId": "20000000-0000-0000-0000-000000000000",
            "displayName": "AlternateDisplayName"
          }
        }
      ]
  StartTenantBackfill.StartTenantBackfill:
    description: |-
      Starts backfilling subscriptions for the Tenant.
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/starttenantbackfill/starttenantbackfill
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "status": "Started",
          "tenantId": "20000000-0000-0000-0000-000000000000"
        }
      ]
  TenantBackfillStatus.TenantBackfillStatus:
    description: |-
      Gets tenant backfill status
    versions:
      from: 2020.5.1
    link: https://docs.microsoft.com/en-us/rest/api/managementgroups/tenantbackfillstatus/tenantbackfillstatus
    example:
      inputs: [
        {}
      ]
      outputs: [
        {
          "status": "Started",
          "tenantId": "20000000-0000-0000-0000-000000000000"
        }
      ]